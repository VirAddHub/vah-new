(()=>{var e={};e.id=920,e.ids=[920],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1368:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),s(8358),s(1506),s(5866);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8358)),"/Users/libanadan/Desktop/final_frontend/app/admin/login/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/libanadan/Desktop/final_frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/libanadan/Desktop/final_frontend/app/admin/login/page.tsx"],u="/admin/login/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9146:(e,t,s)=>{Promise.resolve().then(s.bind(s,3111))},7692:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},9562:()=>{},3111:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>iE});var r,a,n,i=s(326),l=s(7577),o=s.t(l,2);function c(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function d(...e){return t=>{let s=!1,r=e.map(e=>{let r=c(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():c(e[t],null)}}}}function u(...e){return l.useCallback(d(...e),e)}function m(e){let t=function(e){let t=l.forwardRef((e,t)=>{let{children:s,...r}=e;if(l.isValidElement(s)){let e,a;let n=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.ref:(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?s.props.ref:s.props.ref||s.ref,i=function(e,t){let s={...t};for(let r in t){let a=e[r],n=t[r];/^on[A-Z]/.test(r)?a&&n?s[r]=(...e)=>{let t=n(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...n}:"className"===r&&(s[r]=[a,n].filter(Boolean).join(" "))}return{...e,...s}}(r,s.props);return s.type!==l.Fragment&&(i.ref=t?d(t,n):n),l.cloneElement(s,i)}return l.Children.count(s)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=l.forwardRef((e,s)=>{let{children:r,...a}=e,n=l.Children.toArray(r),o=n.find(x);if(o){let e=o.props.children,r=n.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...a,ref:s,children:l.isValidElement(e)?l.cloneElement(e,void 0,r):null})}return(0,i.jsx)(t,{...a,ref:s,children:r})});return s.displayName=`${e}.Slot`,s}var h=m("Slot"),p=Symbol("radix.slottable");function x(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}function f(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=function e(t){var s,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var n=t.length;for(s=0;s<n;s++)t[s]&&(r=e(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(r&&(r+=" "),r+=t);return r}let g=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,v=(e,t)=>s=>{var r;if((null==t?void 0:t.variants)==null)return f(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:a,defaultVariants:n}=t,i=Object.keys(a).map(e=>{let t=null==s?void 0:s[e],r=null==n?void 0:n[e];if(null===t)return null;let i=g(t)||g(r);return a[e][i]}),l=s&&Object.entries(s).reduce((e,t)=>{let[s,r]=t;return void 0===r||(e[s]=r),e},{});return f(e,i,null==t?void 0:null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:s,className:r,...a}=t;return Object.entries(a).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...n,...l}[t]):({...n,...l})[t]===s})?[...e,s,r]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)},y=e=>{let t=N(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{let s=e.split("-");return""===s[0]&&1!==s.length&&s.shift(),j(s,t)||b(e)},getConflictingClassGroupIds:(e,t)=>{let a=s[e]||[];return t&&r[e]?[...a,...r[e]]:a}}},j=(e,t)=>{if(0===e.length)return t.classGroupId;let s=e[0],r=t.nextPart.get(s),a=r?j(e.slice(1),r):void 0;if(a)return a;if(0===t.validators.length)return;let n=e.join("-");return t.validators.find(({validator:e})=>e(n))?.classGroupId},w=/^\[(.+)\]$/,b=e=>{if(w.test(e)){let t=w.exec(e)[1],s=t?.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},N=e=>{let{theme:t,prefix:s}=e,r={nextPart:new Map,validators:[]};return _(Object.entries(e.classGroups),s).forEach(([e,s])=>{k(s,r,e,t)}),r},k=(e,t,s,r)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:C(t,e)).classGroupId=s;return}if("function"==typeof e){if(S(e)){k(e(r),t,s,r);return}t.validators.push({validator:e,classGroupId:s});return}Object.entries(e).forEach(([e,a])=>{k(a,C(t,e),s,r)})})},C=(e,t)=>{let s=e;return t.split("-").forEach(e=>{s.nextPart.has(e)||s.nextPart.set(e,{nextPart:new Map,validators:[]}),s=s.nextPart.get(e)}),s},S=e=>e.isThemeGetter,_=(e,t)=>t?e.map(([e,s])=>[e,s.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,s])=>[t+e,s])):e)]):e,A=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,s=new Map,r=new Map,a=(a,n)=>{s.set(a,n),++t>e&&(t=0,r=s,s=new Map)};return{get(e){let t=s.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){s.has(e)?s.set(e,t):a(e,t)}}},P=e=>{let{separator:t,experimentalParseClassName:s}=e,r=1===t.length,a=t[0],n=t.length,i=e=>{let s;let i=[],l=0,o=0;for(let c=0;c<e.length;c++){let d=e[c];if(0===l){if(d===a&&(r||e.slice(c,c+n)===t)){i.push(e.slice(o,c)),o=c+n;continue}if("/"===d){s=c;continue}}"["===d?l++:"]"===d&&l--}let c=0===i.length?e:e.substring(o),d=c.startsWith("!"),u=d?c.substring(1):c;return{modifiers:i,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:s&&s>o?s-o:void 0}};return s?e=>s({className:e,parseClassName:i}):i},E=e=>{if(e.length<=1)return e;let t=[],s=[];return e.forEach(e=>{"["===e[0]?(t.push(...s.sort(),e),s=[]):s.push(e)}),t.push(...s.sort()),t},L=e=>({cache:A(e.cacheSize),parseClassName:P(e),...y(e)}),R=/\s+/,T=(e,t)=>{let{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:a}=t,n=[],i=e.trim().split(R),l="";for(let e=i.length-1;e>=0;e-=1){let t=i[e],{modifiers:o,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=s(t),m=!!u,h=r(m?d.substring(0,u):d);if(!h){if(!m||!(h=r(d))){l=t+(l.length>0?" "+l:l);continue}m=!1}let p=E(o).join(":"),x=c?p+"!":p,f=x+h;if(n.includes(f))continue;n.push(f);let g=a(h,m);for(let e=0;e<g.length;++e){let t=g[e];n.push(x+t)}l=t+(l.length>0?" "+l:l)}return l};function M(){let e,t,s=0,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=I(e))&&(r&&(r+=" "),r+=t);return r}let I=e=>{let t;if("string"==typeof e)return e;let s="";for(let r=0;r<e.length;r++)e[r]&&(t=I(e[r]))&&(s&&(s+=" "),s+=t);return s},D=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},F=/^\[(?:([a-z-]+):)?(.+)\]$/i,z=/^\d+\/\d+$/,O=new Set(["px","full","screen"]),U=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,B=e=>G(e)||O.has(e)||z.test(e),W=e=>ei(e,"length",el),G=e=>!!e&&!Number.isNaN(Number(e)),K=e=>ei(e,"number",G),Y=e=>!!e&&Number.isInteger(Number(e)),J=e=>e.endsWith("%")&&G(e.slice(0,-1)),X=e=>F.test(e),Z=e=>U.test(e),Q=new Set(["length","size","percentage"]),ee=e=>ei(e,Q,eo),et=e=>ei(e,"position",eo),es=new Set(["image","url"]),er=e=>ei(e,es,ed),ea=e=>ei(e,"",ec),en=()=>!0,ei=(e,t,s)=>{let r=F.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):s(r[2]))},el=e=>$.test(e)&&!V.test(e),eo=()=>!1,ec=e=>q.test(e),ed=e=>H.test(e);Symbol.toStringTag;let eu=function(e,...t){let s,r,a;let n=function(l){return r=(s=L(t.reduce((e,t)=>t(e),e()))).cache.get,a=s.cache.set,n=i,i(l)};function i(e){let t=r(e);if(t)return t;let n=T(e,s);return a(e,n),n}return function(){return n(M.apply(null,arguments))}}(()=>{let e=D("colors"),t=D("spacing"),s=D("blur"),r=D("brightness"),a=D("borderColor"),n=D("borderRadius"),i=D("borderSpacing"),l=D("borderWidth"),o=D("contrast"),c=D("grayscale"),d=D("hueRotate"),u=D("invert"),m=D("gap"),h=D("gradientColorStops"),p=D("gradientColorStopPositions"),x=D("inset"),f=D("margin"),g=D("opacity"),v=D("padding"),y=D("saturate"),j=D("scale"),w=D("sepia"),b=D("skew"),N=D("space"),k=D("translate"),C=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",X,t],A=()=>[X,t],P=()=>["",B,W],E=()=>["auto",G,X],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],T=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",X],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[G,X];return{cacheSize:500,separator:":",theme:{colors:[en],spacing:[B,W],blur:["none","",Z,X],brightness:z(),borderColor:[e],borderRadius:["none","","full",Z,X],borderSpacing:A(),borderWidth:P(),contrast:z(),grayscale:I(),hueRotate:z(),invert:I(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[J,W],inset:_(),margin:_(),opacity:z(),padding:A(),saturate:z(),scale:z(),sepia:I(),skew:z(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[Z]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),X]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Y,X]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Y,X]}],"grid-cols":[{"grid-cols":[en]}],"col-start-end":[{col:["auto",{span:["full",Y,X]},X]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[en]}],"row-start-end":[{row:["auto",{span:[Y,X]},X]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",X,t]}],"min-w":[{"min-w":[X,t,"min","max","fit"]}],"max-w":[{"max-w":[X,t,"none","full","min","max","fit","prose",{screen:[Z]},Z]}],h:[{h:[X,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[X,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[X,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Z,W]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",K]}],"font-family":[{font:[en]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",G,K]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",B,X]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",B,W]}],"underline-offset":[{"underline-offset":["auto",B,X]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),et]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ee]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},er]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:R()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[B,X]}],"outline-w":[{outline:[B,W]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[B,W]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Z,ea]}],"shadow-color":[{shadow:[en]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...T(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":T()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[r]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",Z,X]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Y,X]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[b]}],"skew-y":[{"skew-y":[b]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[B,W,K]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function em(...e){return eu(f(e))}let eh=v("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ep=l.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...a},n)=>{let l=r?h:"button";return i.jsx(l,{className:em(eh({variant:t,size:s,className:e})),ref:n,...a})});ep.displayName="Button";let ex=l.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:em("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ex.displayName="Card";let ef=l.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:em("flex flex-col space-y-1.5 p-6",e),...t}));ef.displayName="CardHeader";let eg=l.forwardRef(({className:e,...t},s)=>i.jsx("h3",{ref:s,className:em("text-2xl font-semibold leading-none tracking-tight",e),...t}));eg.displayName="CardTitle",l.forwardRef(({className:e,...t},s)=>i.jsx("p",{ref:s,className:em("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let ev=l.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:em("p-6 pt-0",e),...t}));ev.displayName="CardContent",l.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:em("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";let ey=l.forwardRef(({className:e,type:t,...s},r)=>i.jsx("input",{type:t,className:em("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...s}));ey.displayName="Input";var ej=s(962),ew=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=m(`Primitive.${t}`),r=l.forwardRef((e,r)=>{let{asChild:a,...n}=e,l=a?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),eb=l.forwardRef((e,t)=>(0,i.jsx)(ew.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));eb.displayName="Label";let eN=v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ek=l.forwardRef(({className:e,...t},s)=>i.jsx(eb,{ref:s,className:em(eN(),e),...t}));ek.displayName=eb.displayName;let eC=v("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),eS=l.forwardRef(({className:e,variant:t,...s},r)=>i.jsx("div",{ref:r,role:"alert",className:em(eC({variant:t}),e),...s}));eS.displayName="Alert",l.forwardRef(({className:e,...t},s)=>i.jsx("h5",{ref:s,className:em("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let e_=l.forwardRef(({className:e,...t},s)=>i.jsx("div",{ref:s,className:em("text-sm [&_p]:leading-relaxed",e),...t}));e_.displayName="AlertDescription";var eA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let eP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=(e,t)=>{let s=(0,l.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:n,children:i,...o},c)=>(0,l.createElement)("svg",{ref:c,...eA,width:r,height:r,stroke:s,strokeWidth:n?24*Number(a)/Number(r):a,className:`lucide lucide-${eP(e)}`,...o},[...t.map(([e,t])=>(0,l.createElement)(e,t)),...(Array.isArray(i)?i:[i])||[]]));return s.displayName=`${e}`,s},eL=eE("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),eR=eE("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),eT=eE("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),eM=eE("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),eI=eE("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),eD=eE("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),eF=eE("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),ez=eE("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);class eO{constructor(e="/api"){this.token=null,this.baseUrl=e,this.token=null}setToken(e){this.token=e}clearToken(){this.token=null}getHeaders(){let e={"Content-Type":"application/json"};return this.token&&(e.Authorization=`Bearer ${this.token}`),e}async get(e,t={}){let s=await fetch(`${this.baseUrl}${e}`,{method:"GET",headers:this.getHeaders(),...t});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);return s.json()}async post(e,t,s={}){let r=await fetch(`${this.baseUrl}${e}`,{method:"POST",headers:this.getHeaders(),body:t?JSON.stringify(t):void 0,...s});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return r.json()}async put(e,t,s={}){let r=await fetch(`${this.baseUrl}${e}`,{method:"PUT",headers:this.getHeaders(),body:t?JSON.stringify(t):void 0,...s});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);return r.json()}async delete(e,t={}){let s=await fetch(`${this.baseUrl}${e}`,{method:"DELETE",headers:this.getHeaders(),...t});if(!s.ok)throw Error(`HTTP error! status: ${s.status}`);return s.json()}}let eU=new eO;class e${constructor(){this.token=null,this.user=null}isAuthenticated(){return!!this.token}isAdmin(){return this.user?.is_admin||!1}getUser(){return this.user}setUser(e){this.user=e}setToken(e){this.token=e}clearAuth(){this.token=null,this.user=null}async checkAuth(){try{let e=await eU.get("/api/auth/whoami");return this.setUser(e.user),e.user}catch(e){throw this.clearAuth(),e}}}let eV=new e$;async function eq(e,t){try{await eU.post("/api/audit/admin-action",{action:e,data:t,timestamp:new Date().toISOString(),adminId:eV.getUser()?.id})}catch(e){console.error("Failed to log admin action:",e)}}async function eH(e,t){try{await eU.post("/api/audit/auth-event",{event:e,data:t,timestamp:new Date().toISOString(),userId:eV.getUser()?.id})}catch(e){console.error("Failed to log auth event:",e)}}function eB(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function eW(e){let[t,s]=(0,l.useState)(null),[r,a]=(0,l.useState)(!0),[n,i]=(0,l.useState)(null),o=async()=>{try{a(!0),i(null);let t=await eU.get(e);s(t)}catch(e){i(e)}finally{a(!1)}};return(0,l.useEffect)(()=>{o()},[e]),{data:t,isLoading:r,error:n,refetch:()=>{o()}}}function eG({onLogin:e,onGoBack:t}){let[s,r]=(0,l.useState)(""),[a,n]=(0,l.useState)(""),[o,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)(""),[p,x]=(0,l.useState)(""),[f,g]=(0,l.useState)(!1),[v,y]=(0,l.useState)(""),[j,w]=(0,l.useState)(!1),[b,N]=(0,l.useState)(0),[k,C]=(0,l.useState)(!1),[S,_]=(0,l.useState)(0),A=async t=>{if(t.preventDefault(),h(""),x(""),!s||!a){h("Please enter both email and password");return}if(k){h(`Account temporarily locked. Please wait ${S} seconds before trying again.`);return}u(!0);try{await eH("admin_login_attempt",{email:s});let t=await eU.post("/api/auth/login",{email:s,password:a,isAdmin:!0});if(t.ok&&t.user?.is_admin)eV.setToken(t.token),eV.setUser(t.user),await eH("admin_login_success",{email:s,adminId:t.user.id}),await eq("admin_login",{email:s,adminId:t.user.id,loginTime:new Date().toISOString()}),localStorage.removeItem("admin_lockout"),N(0),x("Login successful! Redirecting..."),setTimeout(()=>{e()},1e3);else throw Error("Admin access required")}catch(t){let e=b+1;if(N(e),await eH("admin_login_failed",{email:s,error:t.message,attempts:e}),e>=5)C(!0),_(900),localStorage.setItem("admin_lockout",JSON.stringify({attempts:e,timestamp:Date.now()})),h("Too many failed attempts. Account locked for 15 minutes.");else{let s=t.message||"Invalid admin credentials";h(`${s} (${5-e} attempts remaining)`)}}finally{u(!1)}},P=async e=>{if(e.preventDefault(),h(""),x(""),!v){h("Please enter your admin email address");return}w(!0);try{await eH("admin_password_reset_request",{email:v}),await eU.post("/api/admin/password-reset",{email:v}),await eq("admin_password_reset_request",{email:v}),x("Password reset link sent to your email"),g(!1),y("")}catch(e){await eH("admin_password_reset_failed",{email:v,error:e.message}),h(e.message||"Failed to send password reset link")}finally{w(!1)}},E=async()=>{u(!0),h("");try{await eH("admin_demo_login");let t={id:"demo-admin",email:"admin@virtualaddresshub.co.uk",name:"Demo Admin",is_admin:!0,role:"super_admin"};eV.setUser(t),eV.setToken("demo-admin-token"),await eq("admin_demo_login",{demoUser:t.email,loginTime:new Date().toISOString()}),x("Demo admin session created! Redirecting..."),setTimeout(()=>{e()},1e3)}catch(e){h("Failed to create demo session")}finally{u(!1)}};return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,i.jsxs)("div",{className:"w-full max-w-md",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6",children:[i.jsx(eL,{className:"h-8 w-8 text-primary"}),i.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Portal"})]}),i.jsx("h2",{className:"text-xl font-medium mb-2",children:"Administrator Access"}),i.jsx("p",{className:"text-muted-foreground",children:"Sign in to access the admin dashboard"})]}),(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(eL,{className:"h-5 w-5"}),"Admin Sign In"]})}),(0,i.jsxs)(ev,{children:[m&&(0,i.jsxs)(eS,{className:"mb-4",variant:"destructive",children:[i.jsx(eR,{className:"h-4 w-4"}),i.jsx(e_,{children:m})]}),p&&(0,i.jsxs)(eS,{className:"mb-4",children:[i.jsx(eT,{className:"h-4 w-4"}),i.jsx(e_,{children:p})]}),k&&(0,i.jsxs)(eS,{className:"mb-4",variant:"destructive",children:[i.jsx(eM,{className:"h-4 w-4"}),(0,i.jsxs)(e_,{children:["Account locked due to too many failed attempts. Please wait ",`${Math.floor(S/60)}:${(S%60).toString().padStart(2,"0")}`," before trying again."]})]}),f?(0,i.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"resetEmail",children:"Admin Email"}),i.jsx(ey,{id:"resetEmail",type:"email",value:v,onChange:e=>y(e.target.value),placeholder:"admin@virtualaddresshub.co.uk",required:!0})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[i.jsx(ep,{type:"submit",className:"flex-1",disabled:j,children:j?(0,i.jsxs)(i.Fragment,{children:[i.jsx(eF,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):"Send Reset Link"}),i.jsx(ep,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"})]})]}):(0,i.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"email",children:"Admin Email"}),i.jsx(ey,{id:"email",type:"email",value:s,onChange:e=>r(e.target.value),placeholder:"admin@virtualaddresshub.co.uk",disabled:k,required:!0})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"password",children:"Password"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(ey,{id:"password",type:o?"text":"password",value:a,onChange:e=>n(e.target.value),className:"pr-10",disabled:k,required:!0}),i.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",disabled:k,children:o?i.jsx(eI,{className:"h-4 w-4"}):i.jsx(eD,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsx(ep,{type:"button",variant:"link",size:"sm",onClick:()=>g(!0),disabled:k,children:"Forgot password?"})}),i.jsx(ep,{type:"submit",className:"w-full",disabled:d||k,children:d?(0,i.jsxs)(i.Fragment,{children:[i.jsx(eF,{className:"h-4 w-4 mr-2 animate-spin"}),"Signing in..."]}):"Access Admin Panel"})]})]})]}),i.jsx("div",{className:"mt-6 text-center",children:(0,i.jsxs)(ep,{variant:"outline",size:"sm",onClick:t||(()=>window.history.back()),children:[i.jsx(ez,{className:"h-4 w-4 mr-2"}),"Back to website"]})}),(0,i.jsxs)("div",{className:"mt-6 p-4 bg-card rounded-lg border",children:[(0,i.jsxs)("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Demo Access"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Use demo credentials for testing purposes"}),i.jsx(ep,{variant:"outline",size:"sm",onClick:E,disabled:d,className:"w-full",children:d?(0,i.jsxs)(i.Fragment,{children:[i.jsx(eF,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Demo Session..."]}):"Login as Demo Admin"})]}),(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Demo admin credentials:"}),i.jsx("p",{className:"text-xs font-mono",children:"Email: admin@virtualaddresshub.co.uk"}),i.jsx("p",{className:"text-xs font-mono",children:"Password: admin123"})]})]}),i.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,i.jsxs)("div",{className:"flex items-start gap-2",children:[i.jsx(eR,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),(0,i.jsxs)("div",{className:"text-xs text-yellow-800",children:[i.jsx("p",{className:"font-medium",children:"Security Notice"}),i.jsx("p",{children:"Admin access is logged and monitored. Unauthorized access attempts will be reported."})]})]})})]})})}let eK=eE("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),eY=eE("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),eJ=eE("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),eX=eE("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),eZ=eE("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),eQ=eE("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),e0=eE("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),e1=eE("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),e2=eE("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),e4=eE("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),e5=eE("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),e3=eE("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function e6({size:e="md",showText:t=!0,className:s=""}){return(0,i.jsxs)("div",{className:`flex items-center gap-2 ${s}`,children:[i.jsx("div",{className:`${{sm:"h-6 w-6",md:"h-8 w-8",lg:"h-12 w-12"}[e]} bg-primary rounded-lg flex items-center justify-center`,children:i.jsx("span",{className:"text-primary-foreground font-bold text-xs",children:"VAH"})}),t&&i.jsx("span",{className:`font-bold text-primary ${{sm:"text-sm",md:"text-lg",lg:"text-2xl"}[e]}`,children:"VirtualAddressHub"})]})}let e8=v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function e7({className:e,variant:t,...s}){return i.jsx("div",{className:em(e8({variant:t}),e),...s})}let e9=eE("Users2",[["path",{d:"M14 19a6 6 0 0 0-12 0",key:"vej9p1"}],["circle",{cx:"8",cy:"9",r:"4",key:"143rtg"}],["path",{d:"M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8",key:"hqbn22"}]]),te=eE("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),tt=eE("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ts=eE("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),tr=eE("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),ta=eE("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),tn=eE("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function ti(){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(new Date),{data:a,isLoading:n,refetch:o}=eW("/api/admin/stats"),{data:c,isLoading:d,refetch:u}=eW("/api/admin/health"),{data:m,isLoading:h,refetch:p}=eW("/api/admin/activity"),{data:x,isLoading:f,refetch:g}=eW("/api/admin/pending"),v=async()=>{t(!0);try{await eq("admin_overview_refresh"),await Promise.all([o(),u(),p(),g()]),r(new Date)}catch(e){await eq("admin_overview_refresh_error",{error:e.message})}finally{t(!1)}},y=async()=>{try{await eq("admin_view_all_activity"),window.open("/admin/activity","_blank")}catch(e){await eq("admin_view_activity_error",{error:e.message})}},j=async(e,t)=>{try{await eq("admin_pending_action",{actionType:e,actionId:t}),await eU.post(`/api/admin/pending/${e}/${t}/process`),g()}catch(s){await eq("admin_pending_action_error",{actionType:e,actionId:t,error:s.message})}},w=a||{totalUsers:2847,monthlyRevenue:47329,mailProcessed:18492,activeForwards:1234,userGrowth:12.3,revenueGrowth:8.1,mailGrowth:23.4,forwardGrowth:-2.1};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Admin Overview"}),i.jsx("p",{className:"text-muted-foreground",children:"Real-time system status and key performance metrics"}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Last updated: ",s.toLocaleTimeString()]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(e7,{variant:"outline",className:"gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"System Operational"]}),(0,i.jsxs)(ep,{variant:"outline",size:"sm",onClick:v,disabled:e,className:"gap-2",children:[i.jsx(eF,{className:`h-4 w-4 ${e?"animate-spin":""}`}),"Refresh"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(tl,{title:"Total Users",value:w.totalUsers.toLocaleString(),change:`+${w.userGrowth}%`,trend:"up",icon:i.jsx(e9,{className:"h-5 w-5 text-blue-500"}),loading:n}),i.jsx(tl,{title:"Monthly Revenue",value:`\xa3${w.monthlyRevenue.toLocaleString()}`,change:`+${w.revenueGrowth}%`,trend:"up",icon:i.jsx(te,{className:"h-5 w-5 text-green-500"}),loading:n}),i.jsx(tl,{title:"Mail Processed",value:w.mailProcessed.toLocaleString(),change:`+${w.mailGrowth}%`,trend:"up",icon:i.jsx(eJ,{className:"h-5 w-5 text-purple-500"}),loading:n}),i.jsx(tl,{title:"Active Forwards",value:w.activeForwards.toLocaleString(),change:`${w.forwardGrowth>0?"+":""}${w.forwardGrowth}%`,trend:w.forwardGrowth>0?"up":"down",icon:i.jsx(eX,{className:"h-5 w-5 text-orange-500"}),loading:n})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsxs)(ex,{children:[(0,i.jsxs)(ef,{className:"flex flex-row items-center justify-between",children:[i.jsx(eg,{className:"text-lg",children:"Recent Activity"}),i.jsx(ep,{variant:"outline",size:"sm",onClick:y,children:"View All"})]}),i.jsx(ev,{children:i.jsx("div",{className:"space-y-4",children:(m||[{icon:"UserCheck",title:"New user registration",description:"jane.doe@example.com verified KYC",time:"2 minutes ago"},{icon:"Mail",title:"Mail batch processed",description:"47 items scanned and uploaded",time:"15 minutes ago"},{icon:"Truck",title:"Forwarding completed",description:"Delivery #FR-2847 dispatched",time:"1 hour ago"},{icon:"CreditCard",title:"Payment processed",description:"Invoice #INV-1045 paid (\xa339.99)",time:"2 hours ago"}]).map((e,t)=>i.jsx(to,{icon:e.icon,title:e.title,description:e.description,time:e.time},t))})})]}),(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{className:"text-lg",children:"System Health"})}),i.jsx(ev,{children:i.jsx("div",{className:"space-y-4",children:(c||[{label:"Mail Processing API",status:"operational",uptime:"99.98%"},{label:"KYC Verification (Sumsub)",status:"operational",uptime:"99.95%"},{label:"Payment Gateway",status:"operational",uptime:"99.99%"},{label:"Database Performance",status:"warning",uptime:"97.82%"},{label:"Email Notifications",status:"operational",uptime:"99.87%"}]).map((e,t)=>i.jsx(tc,{label:e.label,status:e.status,uptime:e.uptime},t))})})]}),(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{className:"text-lg",children:"Pending Actions"})}),i.jsx(ev,{children:i.jsx("div",{className:"space-y-3",children:(x||[{priority:"high",title:"KYC Reviews",count:7,action:"Review Pending",actionId:"kyc_reviews"},{priority:"medium",title:"Mail Tagging",count:23,action:"Tag Items",actionId:"mail_tagging"},{priority:"low",title:"User Inquiries",count:4,action:"Respond",actionId:"user_inquiries"}]).map((e,t)=>i.jsx(td,{priority:e.priority,title:e.title,count:e.count,action:e.action,actionId:e.actionId,onAction:()=>j(e.actionId,e.actionId)},t))})})]}),(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{className:"text-lg",children:"Today's Summary"})}),i.jsx(ev,{children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"New Registrations"}),i.jsx("span",{className:"font-semibold",children:w.totalUsers>0?Math.floor(.004*w.totalUsers):12})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Mail Items Received"}),i.jsx("span",{className:"font-semibold",children:w.mailProcessed>0?Math.floor(.005*w.mailProcessed):89})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Forwards Initiated"}),i.jsx("span",{className:"font-semibold",children:w.activeForwards>0?Math.floor(.03*w.activeForwards):34})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Support Tickets"}),i.jsx("span",{className:"font-semibold",children:"7"})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Revenue"}),i.jsx("span",{className:"font-semibold",children:"\xa31,247"})]})]})})]})]})]})}function tl({title:e,value:t,change:s,trend:r,icon:a,loading:n}){return i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:e}),i.jsx("p",{className:"text-2xl font-bold",children:n?"...":t}),(0,i.jsxs)("p",{className:`text-xs flex items-center gap-1 ${"up"===r?"text-green-600":"text-red-600"}`,children:["up"===r?i.jsx(tt,{className:"h-3 w-3"}):i.jsx(ts,{className:"h-3 w-3"}),n?"...":s]})]}),a]})})})}function to({icon:e,title:t,description:s,time:r}){let a={UserCheck:i.jsx(tr,{className:"h-4 w-4 text-green-500"}),Mail:i.jsx(eJ,{className:"h-4 w-4 text-blue-500"}),Truck:i.jsx(eX,{className:"h-4 w-4 text-orange-500"}),CreditCard:i.jsx(eZ,{className:"h-4 w-4 text-purple-500"})};return(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-muted rounded-lg",children:a[e]||i.jsx(ta,{className:"h-4 w-4 text-gray-500"})}),(0,i.jsxs)("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:t}),i.jsx("p",{className:"text-xs text-muted-foreground",children:s}),i.jsx("p",{className:"text-xs text-muted-foreground",children:r})]})]})}function tc({label:e,status:t,uptime:s}){let r={operational:i.jsx(eT,{className:"h-4 w-4"}),warning:i.jsx(e1,{className:"h-4 w-4"}),error:i.jsx(tn,{className:"h-4 w-4"})};return(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:{operational:"text-green-500",warning:"text-yellow-500",error:"text-red-500"}[t],children:r[t]}),i.jsx("span",{className:"text-sm",children:e})]}),(0,i.jsxs)("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-muted-foreground",children:"Uptime"}),i.jsx("div",{className:"text-sm font-medium",children:s})]})]})}function td({priority:e,title:t,count:s,action:r,actionId:a,onAction:n}){return(0,i.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[i.jsx(e7,{className:{high:"text-red-600 bg-red-50",medium:"text-yellow-600 bg-yellow-50",low:"text-blue-600 bg-blue-50"}[e],variant:"secondary",children:e}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:t}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s," items"]})]})]}),i.jsx(ep,{size:"sm",variant:"outline",onClick:n,children:r})]})}let tu=l.forwardRef(({className:e,...t},s)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:s,className:em("w-full caption-bottom text-sm",e),...t})}));tu.displayName="Table";let tm=l.forwardRef(({className:e,...t},s)=>i.jsx("thead",{ref:s,className:em("[&_tr]:border-b",e),...t}));tm.displayName="TableHeader";let th=l.forwardRef(({className:e,...t},s)=>i.jsx("tbody",{ref:s,className:em("[&_tr:last-child]:border-0",e),...t}));th.displayName="TableBody",l.forwardRef(({className:e,...t},s)=>i.jsx("tfoot",{ref:s,className:em("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let tp=l.forwardRef(({className:e,...t},s)=>i.jsx("tr",{ref:s,className:em("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));tp.displayName="TableRow";let tx=l.forwardRef(({className:e,...t},s)=>i.jsx("th",{ref:s,className:em("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));tx.displayName="TableHead";let tf=l.forwardRef(({className:e,...t},s)=>i.jsx("td",{ref:s,className:em("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));function tg(e,[t,s]){return Math.min(s,Math.max(t,e))}function tv(e,t,{checkForDefaultPrevented:s=!0}={}){return function(r){if(e?.(r),!1===s||!r.defaultPrevented)return t?.(r)}}function ty(e,t=[]){let s=[],r=()=>{let t=s.map(e=>l.createContext(e));return function(s){let r=s?.[e]||t;return l.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return r.scopeName=e,[function(t,r){let a=l.createContext(r),n=s.length;s=[...s,r];let o=t=>{let{scope:s,children:r,...o}=t,c=s?.[e]?.[n]||a,d=l.useMemo(()=>o,Object.values(o));return(0,i.jsx)(c.Provider,{value:d,children:r})};return o.displayName=t+"Provider",[o,function(s,i){let o=i?.[e]?.[n]||a,c=l.useContext(o);if(c)return c;if(void 0!==r)return r;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:s,scopeName:r})=>{let a=s(e)[`__scope${r}`];return{...t,...a}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(r,...t)]}function tj(e){let t=e+"CollectionProvider",[s,r]=ty(t),[a,n]=s(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:t,children:s}=e,r=l.useRef(null),n=l.useRef(new Map).current;return(0,i.jsx)(a,{scope:t,itemMap:n,collectionRef:r,children:s})};o.displayName=t;let c=e+"CollectionSlot",d=m(c),h=l.forwardRef((e,t)=>{let{scope:s,children:r}=e,a=u(t,n(c,s).collectionRef);return(0,i.jsx)(d,{ref:a,children:r})});h.displayName=c;let p=e+"CollectionItemSlot",x="data-radix-collection-item",f=m(p),g=l.forwardRef((e,t)=>{let{scope:s,children:r,...a}=e,o=l.useRef(null),c=u(t,o),d=n(p,s);return l.useEffect(()=>(d.itemMap.set(o,{ref:o,...a}),()=>void d.itemMap.delete(o))),(0,i.jsx)(f,{[x]:"",ref:c,children:r})});return g.displayName=p,[{Provider:o,Slot:h,ItemSlot:g},function(t){let s=n(e+"CollectionConsumer",t);return l.useCallback(()=>{let e=s.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${x}]`));return Array.from(s.itemMap.values()).sort((e,s)=>t.indexOf(e.ref.current)-t.indexOf(s.ref.current))},[s.collectionRef,s.itemMap])},r]}tf.displayName="TableCell",l.forwardRef(({className:e,...t},s)=>i.jsx("caption",{ref:s,className:em("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption","undefined"!=typeof window&&window.document&&window.document.createElement;var tw=l.createContext(void 0);function tb(e){let t=l.useContext(tw);return e||t||"ltr"}function tN(e){let t=l.useRef(e);return l.useEffect(()=>{t.current=e}),l.useMemo(()=>(...e)=>t.current?.(...e),[])}var tk="dismissableLayer.update",tC=l.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tS=l.forwardRef((e,t)=>{let{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...m}=e,h=l.useContext(tC),[p,x]=l.useState(null),f=p?.ownerDocument??globalThis?.document,[,g]=l.useState({}),v=u(t,e=>x(e)),y=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(j),b=p?y.indexOf(p):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,k=b>=w,C=function(e,t=globalThis?.document){let s=tN(e),r=l.useRef(!1),a=l.useRef(()=>{});return l.useEffect(()=>{let e=e=>{if(e.target&&!r.current){let r=function(){tA("dismissableLayer.pointerDownOutside",s,n,{discrete:!0})},n={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",a.current),a.current=r,t.addEventListener("click",a.current,{once:!0})):r()}else t.removeEventListener("click",a.current);r.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",a.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}(e=>{let t=e.target,s=[...h.branches].some(e=>e.contains(t));!k||s||(n?.(e),c?.(e),e.defaultPrevented||d?.())},f),S=function(e,t=globalThis?.document){let s=tN(e),r=l.useRef(!1);return l.useEffect(()=>{let e=e=>{e.target&&!r.current&&tA("dismissableLayer.focusOutside",s,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}(e=>{let t=e.target;[...h.branches].some(e=>e.contains(t))||(o?.(e),c?.(e),e.defaultPrevented||d?.())},f);return function(e,t=globalThis?.document){let s=tN(e);l.useEffect(()=>{let e=e=>{"Escape"===e.key&&s(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[s,t])}(e=>{b!==h.layers.size-1||(r?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},f),l.useEffect(()=>{if(p)return s&&(0===h.layersWithOutsidePointerEventsDisabled.size&&(a=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),t_(),()=>{s&&1===h.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=a)}},[p,f,s,h]),l.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),t_())},[p,h]),l.useEffect(()=>{let e=()=>g({});return document.addEventListener(tk,e),()=>document.removeEventListener(tk,e)},[]),(0,i.jsx)(ew.div,{...m,ref:v,style:{pointerEvents:N?k?"auto":"none":void 0,...e.style},onFocusCapture:tv(e.onFocusCapture,S.onFocusCapture),onBlurCapture:tv(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:tv(e.onPointerDownCapture,C.onPointerDownCapture)})});function t_(){let e=new CustomEvent(tk);document.dispatchEvent(e)}function tA(e,t,s,{discrete:r}){let a=s.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});(t&&a.addEventListener(e,t,{once:!0}),r)?a&&ej.flushSync(()=>a.dispatchEvent(n)):a.dispatchEvent(n)}tS.displayName="DismissableLayer",l.forwardRef((e,t)=>{let s=l.useContext(tC),r=l.useRef(null),a=u(t,r);return l.useEffect(()=>{let e=r.current;if(e)return s.branches.add(e),()=>{s.branches.delete(e)}},[s.branches]),(0,i.jsx)(ew.div,{...e,ref:a})}).displayName="DismissableLayerBranch";var tP=0;function tE(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tL="focusScope.autoFocusOnMount",tR="focusScope.autoFocusOnUnmount",tT={bubbles:!1,cancelable:!0},tM=l.forwardRef((e,t)=>{let{loop:s=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:n,...o}=e,[c,d]=l.useState(null),m=tN(a),h=tN(n),p=l.useRef(null),x=u(t,e=>d(e)),f=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(r){let e=function(e){if(f.paused||!c)return;let t=e.target;c.contains(t)?p.current=t:tF(p.current,{select:!0})},t=function(e){if(f.paused||!c)return;let t=e.relatedTarget;null===t||c.contains(t)||tF(p.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let s=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&tF(c)});return c&&s.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),s.disconnect()}}},[r,c,f.paused]),l.useEffect(()=>{if(c){tz.add(f);let e=document.activeElement;if(!c.contains(e)){let t=new CustomEvent(tL,tT);c.addEventListener(tL,m),c.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let s=document.activeElement;for(let r of e)if(tF(r,{select:t}),document.activeElement!==s)return}(tI(c).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&tF(c))}return()=>{c.removeEventListener(tL,m),setTimeout(()=>{let t=new CustomEvent(tR,tT);c.addEventListener(tR,h),c.dispatchEvent(t),t.defaultPrevented||tF(e??document.body,{select:!0}),c.removeEventListener(tR,h),tz.remove(f)},0)}}},[c,m,h,f]);let g=l.useCallback(e=>{if(!s&&!r||f.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,a=document.activeElement;if(t&&a){let t=e.currentTarget,[r,n]=function(e){let t=tI(e);return[tD(t,e),tD(t.reverse(),e)]}(t);r&&n?e.shiftKey||a!==n?e.shiftKey&&a===r&&(e.preventDefault(),s&&tF(n,{select:!0})):(e.preventDefault(),s&&tF(r,{select:!0})):a===t&&e.preventDefault()}},[s,r,f.paused]);return(0,i.jsx)(ew.div,{tabIndex:-1,...o,ref:x,onKeyDown:g})});function tI(e){let t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function tD(e,t){for(let s of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(s,{upTo:t}))return s}function tF(e,{select:t=!1}={}){if(e&&e.focus){var s;let r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&(s=e)instanceof HTMLInputElement&&"select"in s&&t&&e.select()}}tM.displayName="FocusScope";var tz=function(){let e=[];return{add(t){let s=e[0];t!==s&&s?.pause(),(e=tO(e,t)).unshift(t)},remove(t){e=tO(e,t),e[0]?.resume()}}}();function tO(e,t){let s=[...e],r=s.indexOf(t);return -1!==r&&s.splice(r,1),s}var tU=globalThis?.document?l.useLayoutEffect:()=>{},t$=o[" useId ".trim().toString()]||(()=>void 0),tV=0;function tq(e){let[t,s]=l.useState(t$());return tU(()=>{e||s(e=>e??String(tV++))},[e]),e||(t?`radix-${t}`:"")}let tH=["top","right","bottom","left"],tB=Math.min,tW=Math.max,tG=Math.round,tK=Math.floor,tY=e=>({x:e,y:e}),tJ={left:"right",right:"left",bottom:"top",top:"bottom"},tX={start:"end",end:"start"};function tZ(e,t){return"function"==typeof e?e(t):e}function tQ(e){return e.split("-")[0]}function t0(e){return e.split("-")[1]}function t1(e){return"x"===e?"y":"x"}function t2(e){return"y"===e?"height":"width"}let t4=new Set(["top","bottom"]);function t5(e){return t4.has(tQ(e))?"y":"x"}function t3(e){return e.replace(/start|end/g,e=>tX[e])}let t6=["left","right"],t8=["right","left"],t7=["top","bottom"],t9=["bottom","top"];function se(e){return e.replace(/left|right|bottom|top/g,e=>tJ[e])}function st(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function ss(e){let{x:t,y:s,width:r,height:a}=e;return{width:r,height:a,top:s,left:t,right:t+r,bottom:s+a,x:t,y:s}}function sr(e,t,s){let r,{reference:a,floating:n}=e,i=t5(t),l=t1(t5(t)),o=t2(l),c=tQ(t),d="y"===i,u=a.x+a.width/2-n.width/2,m=a.y+a.height/2-n.height/2,h=a[o]/2-n[o]/2;switch(c){case"top":r={x:u,y:a.y-n.height};break;case"bottom":r={x:u,y:a.y+a.height};break;case"right":r={x:a.x+a.width,y:m};break;case"left":r={x:a.x-n.width,y:m};break;default:r={x:a.x,y:a.y}}switch(t0(t)){case"start":r[l]-=h*(s&&d?-1:1);break;case"end":r[l]+=h*(s&&d?-1:1)}return r}let sa=async(e,t,s)=>{let{placement:r="bottom",strategy:a="absolute",middleware:n=[],platform:i}=s,l=n.filter(Boolean),o=await (null==i.isRTL?void 0:i.isRTL(t)),c=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:u}=sr(c,r,o),m=r,h={},p=0;for(let s=0;s<l.length;s++){let{name:n,fn:x}=l[s],{x:f,y:g,data:v,reset:y}=await x({x:d,y:u,initialPlacement:r,placement:m,strategy:a,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=f?f:d,u=null!=g?g:u,h={...h,[n]:{...h[n],...v}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(m=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:a}):y.rects),{x:d,y:u}=sr(c,m,o)),s=-1)}return{x:d,y:u,placement:m,strategy:a,middlewareData:h}};async function sn(e,t){var s;void 0===t&&(t={});let{x:r,y:a,platform:n,rects:i,elements:l,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=tZ(t,e),p=st(h),x=l[m?"floating"===u?"reference":"floating":u],f=ss(await n.getClippingRect({element:null==(s=await (null==n.isElement?void 0:n.isElement(x)))||s?x:x.contextElement||await (null==n.getDocumentElement?void 0:n.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:o})),g="floating"===u?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,v=await (null==n.getOffsetParent?void 0:n.getOffsetParent(l.floating)),y=await (null==n.isElement?void 0:n.isElement(v))&&await (null==n.getScale?void 0:n.getScale(v))||{x:1,y:1},j=ss(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:o}):g);return{top:(f.top-j.top+p.top)/y.y,bottom:(j.bottom-f.bottom+p.bottom)/y.y,left:(f.left-j.left+p.left)/y.x,right:(j.right-f.right+p.right)/y.x}}function si(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function sl(e){return tH.some(t=>e[t]>=0)}let so=new Set(["left","top"]);async function sc(e,t){let{placement:s,platform:r,elements:a}=e,n=await (null==r.isRTL?void 0:r.isRTL(a.floating)),i=tQ(s),l=t0(s),o="y"===t5(s),c=so.has(i)?-1:1,d=n&&o?-1:1,u=tZ(t,e),{mainAxis:m,crossAxis:h,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof p&&(h="end"===l?-1*p:p),o?{x:h*d,y:m*c}:{x:m*c,y:h*d}}function sd(){return"undefined"!=typeof window}function su(e){return sp(e)?(e.nodeName||"").toLowerCase():"#document"}function sm(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function sh(e){var t;return null==(t=(sp(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function sp(e){return!!sd()&&(e instanceof Node||e instanceof sm(e).Node)}function sx(e){return!!sd()&&(e instanceof Element||e instanceof sm(e).Element)}function sf(e){return!!sd()&&(e instanceof HTMLElement||e instanceof sm(e).HTMLElement)}function sg(e){return!!sd()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof sm(e).ShadowRoot)}let sv=new Set(["inline","contents"]);function sy(e){let{overflow:t,overflowX:s,overflowY:r,display:a}=sE(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+s)&&!sv.has(a)}let sj=new Set(["table","td","th"]),sw=[":popover-open",":modal"];function sb(e){return sw.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let sN=["transform","translate","scale","rotate","perspective"],sk=["transform","translate","scale","rotate","perspective","filter"],sC=["paint","layout","strict","content"];function sS(e){let t=s_(),s=sx(e)?sE(e):e;return sN.some(e=>!!s[e]&&"none"!==s[e])||!!s.containerType&&"normal"!==s.containerType||!t&&!!s.backdropFilter&&"none"!==s.backdropFilter||!t&&!!s.filter&&"none"!==s.filter||sk.some(e=>(s.willChange||"").includes(e))||sC.some(e=>(s.contain||"").includes(e))}function s_(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let sA=new Set(["html","body","#document"]);function sP(e){return sA.has(su(e))}function sE(e){return sm(e).getComputedStyle(e)}function sL(e){return sx(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sR(e){if("html"===su(e))return e;let t=e.assignedSlot||e.parentNode||sg(e)&&e.host||sh(e);return sg(t)?t.host:t}function sT(e,t,s){var r;void 0===t&&(t=[]),void 0===s&&(s=!0);let a=function e(t){let s=sR(t);return sP(s)?t.ownerDocument?t.ownerDocument.body:t.body:sf(s)&&sy(s)?s:e(s)}(e),n=a===(null==(r=e.ownerDocument)?void 0:r.body),i=sm(a);if(n){let e=sM(i);return t.concat(i,i.visualViewport||[],sy(a)?a:[],e&&s?sT(e):[])}return t.concat(a,sT(a,[],s))}function sM(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sI(e){let t=sE(e),s=parseFloat(t.width)||0,r=parseFloat(t.height)||0,a=sf(e),n=a?e.offsetWidth:s,i=a?e.offsetHeight:r,l=tG(s)!==n||tG(r)!==i;return l&&(s=n,r=i),{width:s,height:r,$:l}}function sD(e){return sx(e)?e:e.contextElement}function sF(e){let t=sD(e);if(!sf(t))return tY(1);let s=t.getBoundingClientRect(),{width:r,height:a,$:n}=sI(t),i=(n?tG(s.width):s.width)/r,l=(n?tG(s.height):s.height)/a;return i&&Number.isFinite(i)||(i=1),l&&Number.isFinite(l)||(l=1),{x:i,y:l}}let sz=tY(0);function sO(e){let t=sm(e);return s_()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:sz}function sU(e,t,s,r){var a;void 0===t&&(t=!1),void 0===s&&(s=!1);let n=e.getBoundingClientRect(),i=sD(e),l=tY(1);t&&(r?sx(r)&&(l=sF(r)):l=sF(e));let o=(void 0===(a=s)&&(a=!1),r&&(!a||r===sm(i))&&a)?sO(i):tY(0),c=(n.left+o.x)/l.x,d=(n.top+o.y)/l.y,u=n.width/l.x,m=n.height/l.y;if(i){let e=sm(i),t=r&&sx(r)?sm(r):r,s=e,a=sM(s);for(;a&&r&&t!==s;){let e=sF(a),t=a.getBoundingClientRect(),r=sE(a),n=t.left+(a.clientLeft+parseFloat(r.paddingLeft))*e.x,i=t.top+(a.clientTop+parseFloat(r.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=n,d+=i,a=sM(s=sm(a))}}return ss({width:u,height:m,x:c,y:d})}function s$(e,t){let s=sL(e).scrollLeft;return t?t.left+s:sU(sh(e)).left+s}function sV(e,t){let s=e.getBoundingClientRect();return{x:s.left+t.scrollLeft-s$(e,s),y:s.top+t.scrollTop}}let sq=new Set(["absolute","fixed"]);function sH(e,t,s){let r;if("viewport"===t)r=function(e,t){let s=sm(e),r=sh(e),a=s.visualViewport,n=r.clientWidth,i=r.clientHeight,l=0,o=0;if(a){n=a.width,i=a.height;let e=s_();(!e||e&&"fixed"===t)&&(l=a.offsetLeft,o=a.offsetTop)}let c=s$(r);if(c<=0){let e=r.ownerDocument,t=e.body,s=getComputedStyle(t),a="CSS1Compat"===e.compatMode&&parseFloat(s.marginLeft)+parseFloat(s.marginRight)||0,i=Math.abs(r.clientWidth-t.clientWidth-a);i<=25&&(n-=i)}else c<=25&&(n+=c);return{width:n,height:i,x:l,y:o}}(e,s);else if("document"===t)r=function(e){let t=sh(e),s=sL(e),r=e.ownerDocument.body,a=tW(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),n=tW(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight),i=-s.scrollLeft+s$(e),l=-s.scrollTop;return"rtl"===sE(r).direction&&(i+=tW(t.clientWidth,r.clientWidth)-a),{width:a,height:n,x:i,y:l}}(sh(e));else if(sx(t))r=function(e,t){let s=sU(e,!0,"fixed"===t),r=s.top+e.clientTop,a=s.left+e.clientLeft,n=sf(e)?sF(e):tY(1),i=e.clientWidth*n.x;return{width:i,height:e.clientHeight*n.y,x:a*n.x,y:r*n.y}}(t,s);else{let s=sO(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ss(r)}function sB(e){return"static"===sE(e).position}function sW(e,t){if(!sf(e)||"fixed"===sE(e).position)return null;if(t)return t(e);let s=e.offsetParent;return sh(e)===s&&(s=s.ownerDocument.body),s}function sG(e,t){var s;let r=sm(e);if(sb(e))return r;if(!sf(e)){let t=sR(e);for(;t&&!sP(t);){if(sx(t)&&!sB(t))return t;t=sR(t)}return r}let a=sW(e,t);for(;a&&(s=a,sj.has(su(s)))&&sB(a);)a=sW(a,t);return a&&sP(a)&&sB(a)&&!sS(a)?r:a||function(e){let t=sR(e);for(;sf(t)&&!sP(t);){if(sS(t))return t;if(sb(t))break;t=sR(t)}return null}(e)||r}let sK=async function(e){let t=this.getOffsetParent||sG,s=this.getDimensions,r=await s(e.floating);return{reference:function(e,t,s){let r=sf(t),a=sh(t),n="fixed"===s,i=sU(e,!0,n,t),l={scrollLeft:0,scrollTop:0},o=tY(0);if(r||!r&&!n){if(("body"!==su(t)||sy(a))&&(l=sL(t)),r){let e=sU(t,!0,n,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else a&&(o.x=s$(a))}n&&!r&&a&&(o.x=s$(a));let c=!a||r||n?tY(0):sV(a,l);return{x:i.left+l.scrollLeft-o.x-c.x,y:i.top+l.scrollTop-o.y-c.y,width:i.width,height:i.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},sY={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:s,offsetParent:r,strategy:a}=e,n="fixed"===a,i=sh(r),l=!!t&&sb(t.floating);if(r===i||l&&n)return s;let o={scrollLeft:0,scrollTop:0},c=tY(1),d=tY(0),u=sf(r);if((u||!u&&!n)&&(("body"!==su(r)||sy(i))&&(o=sL(r)),sf(r))){let e=sU(r);c=sF(r),d.x=e.x+r.clientLeft,d.y=e.y+r.clientTop}let m=!i||u||n?tY(0):sV(i,o);return{width:s.width*c.x,height:s.height*c.y,x:s.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:s.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:sh,getClippingRect:function(e){let{element:t,boundary:s,rootBoundary:r,strategy:a}=e,n=[..."clippingAncestors"===s?sb(t)?[]:function(e,t){let s=t.get(e);if(s)return s;let r=sT(e,[],!1).filter(e=>sx(e)&&"body"!==su(e)),a=null,n="fixed"===sE(e).position,i=n?sR(e):e;for(;sx(i)&&!sP(i);){let t=sE(i),s=sS(i);s||"fixed"!==t.position||(a=null),(n?!s&&!a:!s&&"static"===t.position&&!!a&&sq.has(a.position)||sy(i)&&!s&&function e(t,s){let r=sR(t);return!(r===s||!sx(r)||sP(r))&&("fixed"===sE(r).position||e(r,s))}(e,i))?r=r.filter(e=>e!==i):a=t,i=sR(i)}return t.set(e,r),r}(t,this._c):[].concat(s),r],i=n[0],l=n.reduce((e,s)=>{let r=sH(t,s,a);return e.top=tW(r.top,e.top),e.right=tB(r.right,e.right),e.bottom=tB(r.bottom,e.bottom),e.left=tW(r.left,e.left),e},sH(t,i,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:sG,getElementRects:sK,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:s}=sI(e);return{width:t,height:s}},getScale:sF,isElement:sx,isRTL:function(e){return"rtl"===sE(e).direction}};function sJ(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let sX=e=>({name:"arrow",options:e,async fn(t){let{x:s,y:r,placement:a,rects:n,platform:i,elements:l,middlewareData:o}=t,{element:c,padding:d=0}=tZ(e,t)||{};if(null==c)return{};let u=st(d),m={x:s,y:r},h=t1(t5(a)),p=t2(h),x=await i.getDimensions(c),f="y"===h,g=f?"clientHeight":"clientWidth",v=n.reference[p]+n.reference[h]-m[h]-n.floating[p],y=m[h]-n.reference[h],j=await (null==i.getOffsetParent?void 0:i.getOffsetParent(c)),w=j?j[g]:0;w&&await (null==i.isElement?void 0:i.isElement(j))||(w=l.floating[g]||n.floating[p]);let b=w/2-x[p]/2-1,N=tB(u[f?"top":"left"],b),k=tB(u[f?"bottom":"right"],b),C=w-x[p]-k,S=w/2-x[p]/2+(v/2-y/2),_=tW(N,tB(S,C)),A=!o.arrow&&null!=t0(a)&&S!==_&&n.reference[p]/2-(S<N?N:k)-x[p]/2<0,P=A?S<N?S-N:S-C:0;return{[h]:m[h]+P,data:{[h]:_,centerOffset:S-_-P,...A&&{alignmentOffset:P}},reset:A}}}),sZ=(e,t,s)=>{let r=new Map,a={platform:sY,...s},n={...a.platform,_c:r};return sa(e,t,{...a,platform:n})};var sQ="undefined"!=typeof document?l.useLayoutEffect:function(){};function s0(e,t){let s,r,a;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((s=e.length)!==t.length)return!1;for(r=s;0!=r--;)if(!s0(e[r],t[r]))return!1;return!0}if((s=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=s;0!=r--;)if(!({}).hasOwnProperty.call(t,a[r]))return!1;for(r=s;0!=r--;){let s=a[r];if(("_owner"!==s||!e.$$typeof)&&!s0(e[s],t[s]))return!1}return!0}return e!=e&&t!=t}function s1(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function s2(e,t){let s=s1(e);return Math.round(t*s)/s}function s4(e){let t=l.useRef(e);return sQ(()=>{t.current=e}),t}let s5=e=>({name:"arrow",options:e,fn(t){let{element:s,padding:r}="function"==typeof e?e(t):e;return s&&({}).hasOwnProperty.call(s,"current")?null!=s.current?sX({element:s.current,padding:r}).fn(t):{}:s?sX({element:s,padding:r}).fn(t):{}}}),s3=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var s,r;let{x:a,y:n,placement:i,middlewareData:l}=t,o=await sc(t,e);return i===(null==(s=l.offset)?void 0:s.placement)&&null!=(r=l.arrow)&&r.alignmentOffset?{}:{x:a+o.x,y:n+o.y,data:{...o,placement:i}}}}}(e),options:[e,t]}),s6=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:s,y:r,placement:a}=t,{mainAxis:n=!0,crossAxis:i=!1,limiter:l={fn:e=>{let{x:t,y:s}=e;return{x:t,y:s}}},...o}=tZ(e,t),c={x:s,y:r},d=await sn(t,o),u=t5(tQ(a)),m=t1(u),h=c[m],p=c[u];if(n){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",s=h+d[e],r=h-d[t];h=tW(s,tB(h,r))}if(i){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",s=p+d[e],r=p-d[t];p=tW(s,tB(p,r))}let x=l.fn({...t,[m]:h,[u]:p});return{...x,data:{x:x.x-s,y:x.y-r,enabled:{[m]:n,[u]:i}}}}}}(e),options:[e,t]}),s8=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:s,y:r,placement:a,rects:n,middlewareData:i}=t,{offset:l=0,mainAxis:o=!0,crossAxis:c=!0}=tZ(e,t),d={x:s,y:r},u=t5(a),m=t1(u),h=d[m],p=d[u],x=tZ(l,t),f="number"==typeof x?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(o){let e="y"===m?"height":"width",t=n.reference[m]-n.floating[e]+f.mainAxis,s=n.reference[m]+n.reference[e]-f.mainAxis;h<t?h=t:h>s&&(h=s)}if(c){var g,v;let e="y"===m?"width":"height",t=so.has(tQ(a)),s=n.reference[u]-n.floating[e]+(t&&(null==(g=i.offset)?void 0:g[u])||0)+(t?0:f.crossAxis),r=n.reference[u]+n.reference[e]+(t?0:(null==(v=i.offset)?void 0:v[u])||0)-(t?f.crossAxis:0);p<s?p=s:p>r&&(p=r)}return{[m]:h,[u]:p}}}}(e),options:[e,t]}),s7=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var s,r,a,n,i;let{placement:l,middlewareData:o,rects:c,initialPlacement:d,platform:u,elements:m}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=tZ(e,t);if(null!=(s=o.arrow)&&s.alignmentOffset)return{};let j=tQ(l),w=t5(d),b=tQ(d)===d,N=await (null==u.isRTL?void 0:u.isRTL(m.floating)),k=x||(b||!v?[se(d)]:function(e){let t=se(e);return[t3(e),t,t3(t)]}(d)),C="none"!==g;!x&&C&&k.push(...function(e,t,s,r){let a=t0(e),n=function(e,t,s){switch(e){case"top":case"bottom":if(s)return t?t8:t6;return t?t6:t8;case"left":case"right":return t?t7:t9;default:return[]}}(tQ(e),"start"===s,r);return a&&(n=n.map(e=>e+"-"+a),t&&(n=n.concat(n.map(t3)))),n}(d,v,g,N));let S=[d,...k],_=await sn(t,y),A=[],P=(null==(r=o.flip)?void 0:r.overflows)||[];if(h&&A.push(_[j]),p){let e=function(e,t,s){void 0===s&&(s=!1);let r=t0(e),a=t1(t5(e)),n=t2(a),i="x"===a?r===(s?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[n]>t.floating[n]&&(i=se(i)),[i,se(i)]}(l,c,N);A.push(_[e[0]],_[e[1]])}if(P=[...P,{placement:l,overflows:A}],!A.every(e=>e<=0)){let e=((null==(a=o.flip)?void 0:a.index)||0)+1,t=S[e];if(t&&(!("alignment"===p&&w!==t5(t))||P.every(e=>t5(e.placement)!==w||e.overflows[0]>0)))return{data:{index:e,overflows:P},reset:{placement:t}};let s=null==(n=P.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:n.placement;if(!s)switch(f){case"bestFit":{let e=null==(i=P.filter(e=>{if(C){let t=t5(e.placement);return t===w||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(s=e);break}case"initialPlacement":s=d}if(l!==s)return{reset:{placement:s}}}return{}}}}(e),options:[e,t]}),s9=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var s,r;let a,n;let{placement:i,rects:l,platform:o,elements:c}=t,{apply:d=()=>{},...u}=tZ(e,t),m=await sn(t,u),h=tQ(i),p=t0(i),x="y"===t5(i),{width:f,height:g}=l.floating;"top"===h||"bottom"===h?(a=h,n=p===(await (null==o.isRTL?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(n=h,a="end"===p?"top":"bottom");let v=g-m.top-m.bottom,y=f-m.left-m.right,j=tB(g-m[a],v),w=tB(f-m[n],y),b=!t.middlewareData.shift,N=j,k=w;if(null!=(s=t.middlewareData.shift)&&s.enabled.x&&(k=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(N=v),b&&!p){let e=tW(m.left,0),t=tW(m.right,0),s=tW(m.top,0),r=tW(m.bottom,0);x?k=f-2*(0!==e||0!==t?e+t:tW(m.left,m.right)):N=g-2*(0!==s||0!==r?s+r:tW(m.top,m.bottom))}await d({...t,availableWidth:k,availableHeight:N});let C=await o.getDimensions(c.floating);return f!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),re=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:s}=t,{strategy:r="referenceHidden",...a}=tZ(e,t);switch(r){case"referenceHidden":{let e=si(await sn(t,{...a,elementContext:"reference"}),s.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:sl(e)}}}case"escaped":{let e=si(await sn(t,{...a,altBoundary:!0}),s.floating);return{data:{escapedOffsets:e,escaped:sl(e)}}}default:return{}}}}}(e),options:[e,t]}),rt=(e,t)=>({...s5(e),options:[e,t]});var rs=l.forwardRef((e,t)=>{let{children:s,width:r=10,height:a=5,...n}=e;return(0,i.jsx)(ew.svg,{...n,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?s:(0,i.jsx)("polygon",{points:"0,0 30,0 15,10"})})});function rr(e){let[t,s]=l.useState(void 0);return tU(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,a;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,a=t.blockSize}else r=e.offsetWidth,a=e.offsetHeight;s({width:r,height:a})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}s(void 0)},[e]),t}rs.displayName="Arrow";var ra="Popper",[rn,ri]=ty(ra),[rl,ro]=rn(ra),rc=e=>{let{__scopePopper:t,children:s}=e,[r,a]=l.useState(null);return(0,i.jsx)(rl,{scope:t,anchor:r,onAnchorChange:a,children:s})};rc.displayName=ra;var rd="PopperAnchor",ru=l.forwardRef((e,t)=>{let{__scopePopper:s,virtualRef:r,...a}=e,n=ro(rd,s),o=l.useRef(null),c=u(t,o),d=l.useRef(null);return l.useEffect(()=>{let e=d.current;d.current=r?.current||o.current,e!==d.current&&n.onAnchorChange(d.current)}),r?null:(0,i.jsx)(ew.div,{...a,ref:c})});ru.displayName=rd;var rm="PopperContent",[rh,rp]=rn(rm),rx=l.forwardRef((e,t)=>{let{__scopePopper:s,side:r="bottom",sideOffset:a=0,align:n="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:m=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:f="optimized",onPlaced:g,...v}=e,y=ro(rm,s),[j,w]=l.useState(null),b=u(t,e=>w(e)),[N,k]=l.useState(null),C=rr(N),S=C?.width??0,_=C?.height??0,A="number"==typeof h?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(m)?m:[m],E=P.length>0,L={padding:A,boundary:P.filter(ry),altBoundary:E},{refs:R,floatingStyles:T,placement:M,isPositioned:I,middlewareData:D}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:s="absolute",middleware:r=[],platform:a,elements:{reference:n,floating:i}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,m]=l.useState({x:0,y:0,strategy:s,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=l.useState(r);s0(h,r)||p(r);let[x,f]=l.useState(null),[g,v]=l.useState(null),y=l.useCallback(e=>{e!==N.current&&(N.current=e,f(e))},[]),j=l.useCallback(e=>{e!==k.current&&(k.current=e,v(e))},[]),w=n||x,b=i||g,N=l.useRef(null),k=l.useRef(null),C=l.useRef(u),S=null!=c,_=s4(c),A=s4(a),P=s4(d),E=l.useCallback(()=>{if(!N.current||!k.current)return;let e={placement:t,strategy:s,middleware:h};A.current&&(e.platform=A.current),sZ(N.current,k.current,e).then(e=>{let t={...e,isPositioned:!1!==P.current};L.current&&!s0(C.current,t)&&(C.current=t,ej.flushSync(()=>{m(t)}))})},[h,t,s,A,P]);sQ(()=>{!1===d&&C.current.isPositioned&&(C.current.isPositioned=!1,m(e=>({...e,isPositioned:!1})))},[d]);let L=l.useRef(!1);sQ(()=>(L.current=!0,()=>{L.current=!1}),[]),sQ(()=>{if(w&&(N.current=w),b&&(k.current=b),w&&b){if(_.current)return _.current(w,b,E);E()}},[w,b,E,_,S]);let R=l.useMemo(()=>({reference:N,floating:k,setReference:y,setFloating:j}),[y,j]),T=l.useMemo(()=>({reference:w,floating:b}),[w,b]),M=l.useMemo(()=>{let e={position:s,left:0,top:0};if(!T.floating)return e;let t=s2(T.floating,u.x),r=s2(T.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+r+"px)",...s1(T.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:t,top:r}},[s,o,T.floating,u.x,u.y]);return l.useMemo(()=>({...u,update:E,refs:R,elements:T,floatingStyles:M}),[u,E,R,T,M])}({strategy:"fixed",placement:r+("center"!==n?"-"+n:""),whileElementsMounted:(...e)=>(function(e,t,s,r){let a;void 0===r&&(r={});let{ancestorScroll:n=!0,ancestorResize:i=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:c=!1}=r,d=sD(e),u=n||i?[...d?sT(d):[],...sT(t)]:[];u.forEach(e=>{n&&e.addEventListener("scroll",s,{passive:!0}),i&&e.addEventListener("resize",s)});let m=d&&o?function(e,t){let s,r=null,a=sh(e);function n(){var e;clearTimeout(s),null==(e=r)||e.disconnect(),r=null}return function i(l,o){void 0===l&&(l=!1),void 0===o&&(o=1),n();let c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:h}=c;if(l||t(),!m||!h)return;let p=tK(u),x=tK(a.clientWidth-(d+m)),f={rootMargin:-p+"px "+-x+"px "+-tK(a.clientHeight-(u+h))+"px "+-tK(d)+"px",threshold:tW(0,tB(1,o))||1},g=!0;function v(t){let r=t[0].intersectionRatio;if(r!==o){if(!g)return i();r?i(!1,r):s=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==r||sJ(c,e.getBoundingClientRect())||i(),g=!1}try{r=new IntersectionObserver(v,{...f,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(v,f)}r.observe(e)}(!0),n}(d,s):null,h=-1,p=null;l&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),s()}),d&&!c&&p.observe(d),p.observe(t));let x=c?sU(e):null;return c&&function t(){let r=sU(e);x&&!sJ(x,r)&&s(),x=r,a=requestAnimationFrame(t)}(),s(),()=>{var e;u.forEach(e=>{n&&e.removeEventListener("scroll",s),i&&e.removeEventListener("resize",s)}),null==m||m(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(a)}})(...e,{animationFrame:"always"===f}),elements:{reference:y.anchor},middleware:[s3({mainAxis:a+_,alignmentAxis:o}),d&&s6({mainAxis:!0,crossAxis:!1,limiter:"partial"===p?s8():void 0,...L}),d&&s7({...L}),s9({...L,apply:({elements:e,rects:t,availableWidth:s,availableHeight:r})=>{let{width:a,height:n}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${s}px`),i.setProperty("--radix-popper-available-height",`${r}px`),i.setProperty("--radix-popper-anchor-width",`${a}px`),i.setProperty("--radix-popper-anchor-height",`${n}px`)}}),N&&rt({element:N,padding:c}),rj({arrowWidth:S,arrowHeight:_}),x&&re({strategy:"referenceHidden",...L})]}),[F,z]=rw(M),O=tN(g);tU(()=>{I&&O?.()},[I,O]);let U=D.arrow?.x,$=D.arrow?.y,V=D.arrow?.centerOffset!==0,[q,H]=l.useState();return tU(()=>{j&&H(window.getComputedStyle(j).zIndex)},[j]),(0,i.jsx)("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:I?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[D.transformOrigin?.x,D.transformOrigin?.y].join(" "),...D.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,i.jsx)(rh,{scope:s,placedSide:F,onArrowChange:k,arrowX:U,arrowY:$,shouldHideArrow:V,children:(0,i.jsx)(ew.div,{"data-side":F,"data-align":z,...v,ref:b,style:{...v.style,animation:I?void 0:"none"}})})})});rx.displayName=rm;var rf="PopperArrow",rg={top:"bottom",right:"left",bottom:"top",left:"right"},rv=l.forwardRef(function(e,t){let{__scopePopper:s,...r}=e,a=rp(rf,s),n=rg[a.placedSide];return(0,i.jsx)("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:(0,i.jsx)(rs,{...r,ref:t,style:{...r.style,display:"block"}})})});function ry(e){return null!==e}rv.displayName=rf;var rj=e=>({name:"transformOrigin",options:e,fn(t){let{placement:s,rects:r,middlewareData:a}=t,n=a.arrow?.centerOffset!==0,i=n?0:e.arrowWidth,l=n?0:e.arrowHeight,[o,c]=rw(s),d={start:"0%",center:"50%",end:"100%"}[c],u=(a.arrow?.x??0)+i/2,m=(a.arrow?.y??0)+l/2,h="",p="";return"bottom"===o?(h=n?d:`${u}px`,p=`${-l}px`):"top"===o?(h=n?d:`${u}px`,p=`${r.floating.height+l}px`):"right"===o?(h=`${-l}px`,p=n?d:`${m}px`):"left"===o&&(h=`${r.floating.width+l}px`,p=n?d:`${m}px`),{data:{x:h,y:p}}}});function rw(e){let[t,s="center"]=e.split("-");return[t,s]}var rb=l.forwardRef((e,t)=>{let{container:s,...r}=e,[a,n]=l.useState(!1);tU(()=>n(!0),[]);let o=s||a&&globalThis?.document?.body;return o?ej.createPortal((0,i.jsx)(ew.div,{...r,ref:t}),o):null});rb.displayName="Portal";var rN=o[" useInsertionEffect ".trim().toString()]||tU;function rk({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){let[a,n,i]=function({defaultProp:e,onChange:t}){let[s,r]=l.useState(e),a=l.useRef(s),n=l.useRef(t);return rN(()=>{n.current=t},[t]),l.useEffect(()=>{a.current!==s&&(n.current?.(s),a.current=s)},[s,a]),[s,r,n]}({defaultProp:t,onChange:s}),o=void 0!==e,c=o?e:a;{let t=l.useRef(void 0!==e);l.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${r} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,r])}return[c,l.useCallback(t=>{if(o){let s="function"==typeof t?t(e):t;s!==e&&i.current?.(s)}else n(t)},[o,e,n,i])]}function rC(e){let t=l.useRef({value:e,previous:e});return l.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}Symbol("RADIX:SYNC_STATE");var rS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"});l.forwardRef((e,t)=>(0,i.jsx)(ew.span,{...e,ref:t,style:{...rS,...e.style}})).displayName="VisuallyHidden";var r_=new WeakMap,rA=new WeakMap,rP={},rE=0,rL=function(e){return e&&(e.host||rL(e.parentNode))},rR=function(e,t,s,r){var a=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var s=rL(e);return s&&t.contains(s)?s:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});rP[s]||(rP[s]=new WeakMap);var n=rP[s],i=[],l=new Set,o=new Set(a),c=function(e){!e||l.has(e)||(l.add(e),c(e.parentNode))};a.forEach(c);var d=function(e){!e||o.has(e)||Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(r),a=null!==t&&"false"!==t,o=(r_.get(e)||0)+1,c=(n.get(e)||0)+1;r_.set(e,o),n.set(e,c),i.push(e),1===o&&a&&rA.set(e,!0),1===c&&e.setAttribute(s,"true"),a||e.setAttribute(r,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),l.clear(),rE++,function(){i.forEach(function(e){var t=r_.get(e)-1,a=n.get(e)-1;r_.set(e,t),n.set(e,a),t||(rA.has(e)||e.removeAttribute(r),rA.delete(e)),a||e.removeAttribute(s)}),--rE||(r_=new WeakMap,r_=new WeakMap,rA=new WeakMap,rP={})}},rT=function(e,t,s){void 0===s&&(s="data-aria-hidden");var r,a=Array.from(Array.isArray(e)?e:[e]),n=t||(r=e,"undefined"==typeof document?null:(Array.isArray(r)?r[0]:r).ownerDocument.body);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),rR(a,n,s,"aria-hidden")):function(){return null}},rM=function(){return(rM=Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function rI(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(s[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)0>t.indexOf(r[a])&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(s[r[a]]=e[r[a]]);return s}Object.create,Object.create;var rD=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),rF="width-before-scroll-bar";function rz(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var rO="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,rU=new WeakMap;function r$(e){return e}var rV=function(e){void 0===e&&(e={});var t,s,r,a=(void 0===t&&(t=r$),s=[],r=!1,{read:function(){if(r)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:null},useMedium:function(e){var a=t(e,r);return s.push(a),function(){s=s.filter(function(e){return e!==a})}},assignSyncMedium:function(e){for(r=!0;s.length;){var t=s;s=[],t.forEach(e)}s={push:function(t){return e(t)},filter:function(){return s}}},assignMedium:function(e){r=!0;var t=[];if(s.length){var a=s;s=[],a.forEach(e),t=s}var n=function(){var s=t;t=[],s.forEach(e)},i=function(){return Promise.resolve().then(n)};i(),s={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),s}}}});return a.options=rM({async:!0,ssr:!1},e),a}(),rq=function(){},rH=l.forwardRef(function(e,t){var s,r,a,n,i=l.useRef(null),o=l.useState({onScrollCapture:rq,onWheelCapture:rq,onTouchMoveCapture:rq}),c=o[0],d=o[1],u=e.forwardProps,m=e.children,h=e.className,p=e.removeScrollBar,x=e.enabled,f=e.shards,g=e.sideCar,v=e.noRelative,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,b=e.as,N=e.gapMode,k=rI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=(s=[i,t],r=function(e){return s.forEach(function(t){return rz(t,e)})},(a=(0,l.useState)(function(){return{value:null,callback:r,facade:{get current(){return a.value},set current(value){var e=a.value;e!==value&&(a.value=value,a.callback(value,e))}}}})[0]).callback=r,n=a.facade,rO(function(){var e=rU.get(n);if(e){var t=new Set(e),r=new Set(s),a=n.current;t.forEach(function(e){r.has(e)||rz(e,null)}),r.forEach(function(e){t.has(e)||rz(e,a)})}rU.set(n,s)},[s]),n),S=rM(rM({},k),c);return l.createElement(l.Fragment,null,x&&l.createElement(g,{sideCar:rV,removeScrollBar:p,shards:f,noRelative:v,noIsolation:y,inert:j,setCallbacks:d,allowPinchZoom:!!w,lockRef:i,gapMode:N}),u?l.cloneElement(l.Children.only(m),rM(rM({},S),{ref:C})):l.createElement(void 0===b?"div":b,rM({},S,{className:h,ref:C}),m))});rH.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},rH.classNames={fullWidth:rF,zeroRight:rD};var rB=function(e){var t=e.sideCar,s=rI(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw Error("Sidecar medium not found");return l.createElement(r,rM({},s))};rB.isSideCarExport=!0;var rW=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n||s.nc;return t&&e.setAttribute("nonce",t),e}())){var a,i;(a=t).styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r)),i=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rG=function(){var e=rW();return function(t,s){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},rK=function(){var e=rG();return function(t){return e(t.styles,t.dynamic),null}},rY={left:0,top:0,right:0,gap:0},rJ=function(e){return parseInt(e||"",10)||0},rX=function(e){var t=window.getComputedStyle(document.body),s=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],a=t["padding"===e?"paddingRight":"marginRight"];return[rJ(s),rJ(r),rJ(a)]},rZ=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return rY;var t=rX(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},rQ=rK(),r0="data-scroll-locked",r1=function(e,t,s,r){var a=e.left,n=e.top,i=e.right,l=e.gap;return void 0===s&&(s="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(l,"px ").concat(r,";\n  }\n  body[").concat(r0,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===s&&"\n    padding-left: ".concat(a,"px;\n    padding-top: ").concat(n,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(r,";\n    "),"padding"===s&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(rD," {\n    right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(rF," {\n    margin-right: ").concat(l,"px ").concat(r,";\n  }\n  \n  .").concat(rD," .").concat(rD," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(rF," .").concat(rF," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(r0,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},r2=function(){var e=parseInt(document.body.getAttribute(r0)||"0",10);return isFinite(e)?e:0},r4=function(){l.useEffect(function(){return document.body.setAttribute(r0,(r2()+1).toString()),function(){var e=r2()-1;e<=0?document.body.removeAttribute(r0):document.body.setAttribute(r0,e.toString())}},[])},r5=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,a=void 0===r?"margin":r;r4();var n=l.useMemo(function(){return rZ(a)},[a]);return l.createElement(rQ,{styles:r1(n,!t,a,s?"":"!important")})},r3=!1;if("undefined"!=typeof window)try{var r6=Object.defineProperty({},"passive",{get:function(){return r3=!0,!0}});window.addEventListener("test",r6,r6),window.removeEventListener("test",r6,r6)}catch(e){r3=!1}var r8=!!r3&&{passive:!1},r7=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return"hidden"!==s[t]&&!(s.overflowY===s.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===s[t])},r9=function(e,t){var s=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),ae(e,r)){var a=at(e,r);if(a[1]>a[2])return!0}r=r.parentNode}while(r&&r!==s.body);return!1},ae=function(e,t){return"v"===e?r7(t,"overflowY"):r7(t,"overflowX")},at=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},as=function(e,t,s,r,a){var n,i=(n=window.getComputedStyle(t).direction,"h"===e&&"rtl"===n?-1:1),l=i*r,o=s.target,c=t.contains(o),d=!1,u=l>0,m=0,h=0;do{if(!o)break;var p=at(e,o),x=p[0],f=p[1]-p[2]-i*x;(x||f)&&ae(e,o)&&(m+=f,h+=x);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return u&&(a&&1>Math.abs(m)||!a&&l>m)?d=!0:!u&&(a&&1>Math.abs(h)||!a&&-l>h)&&(d=!0),d},ar=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aa=function(e){return[e.deltaX,e.deltaY]},an=function(e){return e&&"current"in e?e.current:e},ai=0,al=[];let ao=(r=function(e){var t=l.useRef([]),s=l.useRef([0,0]),r=l.useRef(),a=l.useState(ai++)[0],n=l.useState(rK)[0],i=l.useRef(e);l.useEffect(function(){i.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=(function(e,t,s){if(s||2==arguments.length)for(var r,a=0,n=t.length;a<n;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(an),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=l.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!i.current.allowPinchZoom;var a,n=ar(e),l=s.current,o="deltaX"in e?e.deltaX:l[0]-n[0],c="deltaY"in e?e.deltaY:l[1]-n[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=r9(u,d);if(!m)return!0;if(m?a=u:(a="v"===u?"h":"v",m=r9(u,d)),!m)return!1;if(!r.current&&"changedTouches"in e&&(o||c)&&(r.current=a),!a)return!0;var h=r.current||a;return as(h,t,e,"h"===h?o:c,!0)},[]),c=l.useCallback(function(e){if(al.length&&al[al.length-1]===n){var s="deltaY"in e?aa(e):ar(e),r=t.current.filter(function(t){var r;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(r=t.delta)[0]===s[0]&&r[1]===s[1]})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var a=(i.current.shards||[]).map(an).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?o(e,a[0]):!i.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=l.useCallback(function(e,s,r,a){var n={name:e,delta:s,target:r,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};t.current.push(n),setTimeout(function(){t.current=t.current.filter(function(e){return e!==n})},1)},[]),u=l.useCallback(function(e){s.current=ar(e),r.current=void 0},[]),m=l.useCallback(function(t){d(t.type,aa(t),t.target,o(t,e.lockRef.current))},[]),h=l.useCallback(function(t){d(t.type,ar(t),t.target,o(t,e.lockRef.current))},[]);l.useEffect(function(){return al.push(n),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,r8),document.addEventListener("touchmove",c,r8),document.addEventListener("touchstart",u,r8),function(){al=al.filter(function(e){return e!==n}),document.removeEventListener("wheel",c,r8),document.removeEventListener("touchmove",c,r8),document.removeEventListener("touchstart",u,r8)}},[]);var p=e.removeScrollBar,x=e.inert;return l.createElement(l.Fragment,null,x?l.createElement(n,{styles:"\n  .block-interactivity-".concat(a," {pointer-events: none;}\n  .allow-interactivity-").concat(a," {pointer-events: all;}\n")}):null,p?l.createElement(r5,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},rV.useMedium(r),rB);var ac=l.forwardRef(function(e,t){return l.createElement(rH,rM({},e,{ref:t,sideCar:ao}))});ac.classNames=rH.classNames;var ad=[" ","Enter","ArrowUp","ArrowDown"],au=[" ","Enter"],am="Select",[ah,ap,ax]=tj(am),[af,ag]=ty(am,[ax,ri]),av=ri(),[ay,aj]=af(am),[aw,ab]=af(am),aN=e=>{let{__scopeSelect:t,children:s,open:r,defaultOpen:a,onOpenChange:n,value:o,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:h,disabled:p,required:x,form:f}=e,g=av(t),[v,y]=l.useState(null),[j,w]=l.useState(null),[b,N]=l.useState(!1),k=tb(u),[C,S]=rk({prop:r,defaultProp:a??!1,onChange:n,caller:am}),[_,A]=rk({prop:o,defaultProp:c,onChange:d,caller:am}),P=l.useRef(null),E=!v||f||!!v.closest("form"),[L,R]=l.useState(new Set),T=Array.from(L).map(e=>e.props.value).join(";");return(0,i.jsx)(rc,{...g,children:(0,i.jsxs)(ay,{required:x,scope:t,trigger:v,onTriggerChange:y,valueNode:j,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:N,contentId:tq(),value:_,onValueChange:A,open:C,onOpenChange:S,dir:k,triggerPointerDownPosRef:P,disabled:p,children:[(0,i.jsx)(ah.Provider,{scope:t,children:(0,i.jsx)(aw,{scope:e.__scopeSelect,onNativeOptionAdd:l.useCallback(e=>{R(t=>new Set(t).add(e))},[]),onNativeOptionRemove:l.useCallback(e=>{R(t=>{let s=new Set(t);return s.delete(e),s})},[]),children:s})}),E?(0,i.jsxs)(a7,{"aria-hidden":!0,required:x,tabIndex:-1,name:m,autoComplete:h,value:_,onChange:e=>A(e.target.value),disabled:p,form:f,children:[void 0===_?(0,i.jsx)("option",{value:""}):null,Array.from(L)]},T):null]})})};aN.displayName=am;var ak="SelectTrigger",aC=l.forwardRef((e,t)=>{let{__scopeSelect:s,disabled:r=!1,...a}=e,n=av(s),o=aj(ak,s),c=o.disabled||r,d=u(t,o.onTriggerChange),m=ap(s),h=l.useRef("touch"),[p,x,f]=ne(e=>{let t=m().filter(e=>!e.disabled),s=t.find(e=>e.value===o.value),r=nt(t,e,s);void 0!==r&&o.onValueChange(r.value)}),g=e=>{c||(o.onOpenChange(!0),f()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,i.jsx)(ru,{asChild:!0,...n,children:(0,i.jsx)(ew.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":a9(o.value)?"":void 0,...a,ref:d,onClick:tv(a.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&g(e)}),onPointerDown:tv(a.onPointerDown,e=>{h.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:tv(a.onKeyDown,e=>{let t=""!==p.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||x(e.key),(!t||" "!==e.key)&&ad.includes(e.key)&&(g(),e.preventDefault())})})})});aC.displayName=ak;var aS="SelectValue",a_=l.forwardRef((e,t)=>{let{__scopeSelect:s,className:r,style:a,children:n,placeholder:l="",...o}=e,c=aj(aS,s),{onValueNodeHasChildrenChange:d}=c,m=void 0!==n,h=u(t,c.onValueNodeChange);return tU(()=>{d(m)},[d,m]),(0,i.jsx)(ew.span,{...o,ref:h,style:{pointerEvents:"none"},children:a9(c.value)?(0,i.jsx)(i.Fragment,{children:l}):n})});a_.displayName=aS;var aA=l.forwardRef((e,t)=>{let{__scopeSelect:s,children:r,...a}=e;return(0,i.jsx)(ew.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});aA.displayName="SelectIcon";var aP=e=>(0,i.jsx)(rb,{asChild:!0,...e});aP.displayName="SelectPortal";var aE="SelectContent",aL=l.forwardRef((e,t)=>{let s=aj(aE,e.__scopeSelect),[r,a]=l.useState();return(tU(()=>{a(new DocumentFragment)},[]),s.open)?(0,i.jsx)(aI,{...e,ref:t}):r?ej.createPortal((0,i.jsx)(aR,{scope:e.__scopeSelect,children:(0,i.jsx)(ah.Slot,{scope:e.__scopeSelect,children:(0,i.jsx)("div",{children:e.children})})}),r):null});aL.displayName=aE;var[aR,aT]=af(aE),aM=m("SelectContent.RemoveScroll"),aI=l.forwardRef((e,t)=>{let{__scopeSelect:s,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:n,onPointerDownOutside:o,side:c,sideOffset:d,align:m,alignOffset:h,arrowPadding:p,collisionBoundary:x,collisionPadding:f,sticky:g,hideWhenDetached:v,avoidCollisions:y,...j}=e,w=aj(aE,s),[b,N]=l.useState(null),[k,C]=l.useState(null),S=u(t,e=>N(e)),[_,A]=l.useState(null),[P,E]=l.useState(null),L=ap(s),[R,T]=l.useState(!1),M=l.useRef(!1);l.useEffect(()=>{if(b)return rT(b)},[b]),l.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tE()),document.body.insertAdjacentElement("beforeend",e[1]??tE()),tP++,()=>{1===tP&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tP--}},[]);let I=l.useCallback(e=>{let[t,...s]=L().map(e=>e.ref.current),[r]=s.slice(-1),a=document.activeElement;for(let s of e)if(s===a||(s?.scrollIntoView({block:"nearest"}),s===t&&k&&(k.scrollTop=0),s===r&&k&&(k.scrollTop=k.scrollHeight),s?.focus(),document.activeElement!==a))return},[L,k]),D=l.useCallback(()=>I([_,b]),[I,_,b]);l.useEffect(()=>{R&&D()},[R,D]);let{onOpenChange:F,triggerPointerDownPosRef:z}=w;l.useEffect(()=>{if(b){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(z.current?.y??0))}},s=s=>{e.x<=10&&e.y<=10?s.preventDefault():b.contains(s.target)||F(!1),document.removeEventListener("pointermove",t),z.current=null};return null!==z.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",s,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",s,{capture:!0})}}},[b,F,z]),l.useEffect(()=>{let e=()=>F(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[F]);let[O,U]=ne(e=>{let t=L().filter(e=>!e.disabled),s=t.find(e=>e.ref.current===document.activeElement),r=nt(t,e,s);r&&setTimeout(()=>r.ref.current.focus())}),$=l.useCallback((e,t,s)=>{let r=!M.current&&!s;(void 0!==w.value&&w.value===t||r)&&(A(e),r&&(M.current=!0))},[w.value]),V=l.useCallback(()=>b?.focus(),[b]),q=l.useCallback((e,t,s)=>{let r=!M.current&&!s;(void 0!==w.value&&w.value===t||r)&&E(e)},[w.value]),H="popper"===r?aF:aD,B=H===aF?{side:c,sideOffset:d,align:m,alignOffset:h,arrowPadding:p,collisionBoundary:x,collisionPadding:f,sticky:g,hideWhenDetached:v,avoidCollisions:y}:{};return(0,i.jsx)(aR,{scope:s,content:b,viewport:k,onViewportChange:C,itemRefCallback:$,selectedItem:_,onItemLeave:V,itemTextRefCallback:q,focusSelectedItem:D,selectedItemText:P,position:r,isPositioned:R,searchRef:O,children:(0,i.jsx)(ac,{as:aM,allowPinchZoom:!0,children:(0,i.jsx)(tM,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:tv(a,e=>{w.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,i.jsx)(tS,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,i.jsx)(H,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...j,...B,onPlaced:()=>T(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:tv(j.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||U(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=L().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let s=e.target,r=t.indexOf(s);t=t.slice(r+1)}setTimeout(()=>I(t)),e.preventDefault()}})})})})})})});aI.displayName="SelectContentImpl";var aD=l.forwardRef((e,t)=>{let{__scopeSelect:s,onPlaced:r,...a}=e,n=aj(aE,s),o=aT(aE,s),[c,d]=l.useState(null),[m,h]=l.useState(null),p=u(t,e=>h(e)),x=ap(s),f=l.useRef(!1),g=l.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:j,focusSelectedItem:w}=o,b=l.useCallback(()=>{if(n.trigger&&n.valueNode&&c&&m&&v&&y&&j){let e=n.trigger.getBoundingClientRect(),t=m.getBoundingClientRect(),s=n.valueNode.getBoundingClientRect(),a=j.getBoundingClientRect();if("rtl"!==n.dir){let r=a.left-t.left,n=s.left-r,i=e.left-n,l=e.width+i,o=Math.max(l,t.width),d=tg(n,[10,Math.max(10,window.innerWidth-10-o)]);c.style.minWidth=l+"px",c.style.left=d+"px"}else{let r=t.right-a.right,n=window.innerWidth-s.right-r,i=window.innerWidth-e.right-n,l=e.width+i,o=Math.max(l,t.width),d=tg(n,[10,Math.max(10,window.innerWidth-10-o)]);c.style.minWidth=l+"px",c.style.right=d+"px"}let i=x(),l=window.innerHeight-20,o=v.scrollHeight,d=window.getComputedStyle(m),u=parseInt(d.borderTopWidth,10),h=parseInt(d.paddingTop,10),p=parseInt(d.borderBottomWidth,10),g=u+h+o+parseInt(d.paddingBottom,10)+p,w=Math.min(5*y.offsetHeight,g),b=window.getComputedStyle(v),N=parseInt(b.paddingTop,10),k=parseInt(b.paddingBottom,10),C=e.top+e.height/2-10,S=y.offsetHeight/2,_=u+h+(y.offsetTop+S);if(_<=C){let e=i.length>0&&y===i[i.length-1].ref.current;c.style.bottom="0px";let t=m.clientHeight-v.offsetTop-v.offsetHeight;c.style.height=_+Math.max(l-C,S+(e?k:0)+t+p)+"px"}else{let e=i.length>0&&y===i[0].ref.current;c.style.top="0px";let t=Math.max(C,u+v.offsetTop+(e?N:0)+S);c.style.height=t+(g-_)+"px",v.scrollTop=_-C+v.offsetTop}c.style.margin="10px 0",c.style.minHeight=w+"px",c.style.maxHeight=l+"px",r?.(),requestAnimationFrame(()=>f.current=!0)}},[x,n.trigger,n.valueNode,c,m,v,y,j,n.dir,r]);tU(()=>b(),[b]);let[N,k]=l.useState();tU(()=>{m&&k(window.getComputedStyle(m).zIndex)},[m]);let C=l.useCallback(e=>{e&&!0===g.current&&(b(),w?.(),g.current=!1)},[b,w]);return(0,i.jsx)(az,{scope:s,contentWrapper:c,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:(0,i.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:(0,i.jsx)(ew.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});aD.displayName="SelectItemAlignedPosition";var aF=l.forwardRef((e,t)=>{let{__scopeSelect:s,align:r="start",collisionPadding:a=10,...n}=e,l=av(s);return(0,i.jsx)(rx,{...l,...n,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aF.displayName="SelectPopperPosition";var[az,aO]=af(aE,{}),aU="SelectViewport",a$=l.forwardRef((e,t)=>{let{__scopeSelect:s,nonce:r,...a}=e,n=aT(aU,s),o=aO(aU,s),c=u(t,n.onViewportChange),d=l.useRef(0);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,i.jsx)(ah.Slot,{scope:s,children:(0,i.jsx)(ew.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:tv(a.onScroll,e=>{let t=e.currentTarget,{contentWrapper:s,shouldExpandOnScrollRef:r}=o;if(r?.current&&s){let e=Math.abs(d.current-t.scrollTop);if(e>0){let r=window.innerHeight-20,a=Math.max(parseFloat(s.style.minHeight),parseFloat(s.style.height));if(a<r){let n=a+e,i=Math.min(r,n),l=n-i;s.style.height=i+"px","0px"===s.style.bottom&&(t.scrollTop=l>0?l:0,s.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});a$.displayName=aU;var aV="SelectGroup",[aq,aH]=af(aV);l.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e,a=tq();return(0,i.jsx)(aq,{scope:s,id:a,children:(0,i.jsx)(ew.div,{role:"group","aria-labelledby":a,...r,ref:t})})}).displayName=aV;var aB="SelectLabel",aW=l.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e,a=aH(aB,s);return(0,i.jsx)(ew.div,{id:a.id,...r,ref:t})});aW.displayName=aB;var aG="SelectItem",[aK,aY]=af(aG),aJ=l.forwardRef((e,t)=>{let{__scopeSelect:s,value:r,disabled:a=!1,textValue:n,...o}=e,c=aj(aG,s),d=aT(aG,s),m=c.value===r,[h,p]=l.useState(n??""),[x,f]=l.useState(!1),g=u(t,e=>d.itemRefCallback?.(e,r,a)),v=tq(),y=l.useRef("touch"),j=()=>{a||(c.onValueChange(r),c.onOpenChange(!1))};if(""===r)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,i.jsx)(aK,{scope:s,value:r,disabled:a,textId:v,isSelected:m,onItemTextChange:l.useCallback(e=>{p(t=>t||(e?.textContent??"").trim())},[]),children:(0,i.jsx)(ah.ItemSlot,{scope:s,value:r,disabled:a,textValue:h,children:(0,i.jsx)(ew.div,{role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":m&&x,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:tv(o.onFocus,()=>f(!0)),onBlur:tv(o.onBlur,()=>f(!1)),onClick:tv(o.onClick,()=>{"mouse"!==y.current&&j()}),onPointerUp:tv(o.onPointerUp,()=>{"mouse"===y.current&&j()}),onPointerDown:tv(o.onPointerDown,e=>{y.current=e.pointerType}),onPointerMove:tv(o.onPointerMove,e=>{y.current=e.pointerType,a?d.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tv(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:tv(o.onKeyDown,e=>{d.searchRef?.current!==""&&" "===e.key||(au.includes(e.key)&&j()," "===e.key&&e.preventDefault())})})})})});aJ.displayName=aG;var aX="SelectItemText",aZ=l.forwardRef((e,t)=>{let{__scopeSelect:s,className:r,style:a,...n}=e,o=aj(aX,s),c=aT(aX,s),d=aY(aX,s),m=ab(aX,s),[h,p]=l.useState(null),x=u(t,e=>p(e),d.onItemTextChange,e=>c.itemTextRefCallback?.(e,d.value,d.disabled)),f=h?.textContent,g=l.useMemo(()=>(0,i.jsx)("option",{value:d.value,disabled:d.disabled,children:f},d.value),[d.disabled,d.value,f]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=m;return tU(()=>(v(g),()=>y(g)),[v,y,g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ew.span,{id:d.textId,...n,ref:x}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ej.createPortal(n.children,o.valueNode):null]})});aZ.displayName=aX;var aQ="SelectItemIndicator",a0=l.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e;return aY(aQ,s).isSelected?(0,i.jsx)(ew.span,{"aria-hidden":!0,...r,ref:t}):null});a0.displayName=aQ;var a1="SelectScrollUpButton",a2=l.forwardRef((e,t)=>{let s=aT(a1,e.__scopeSelect),r=aO(a1,e.__scopeSelect),[a,n]=l.useState(!1),o=u(t,r.onScrollButtonChange);return tU(()=>{if(s.viewport&&s.isPositioned){let e=function(){n(t.scrollTop>0)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),a?(0,i.jsx)(a3,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});a2.displayName=a1;var a4="SelectScrollDownButton",a5=l.forwardRef((e,t)=>{let s=aT(a4,e.__scopeSelect),r=aO(a4,e.__scopeSelect),[a,n]=l.useState(!1),o=u(t,r.onScrollButtonChange);return tU(()=>{if(s.viewport&&s.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;n(Math.ceil(t.scrollTop)<e)},t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),a?(0,i.jsx)(a3,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});a5.displayName=a4;var a3=l.forwardRef((e,t)=>{let{__scopeSelect:s,onAutoScroll:r,...a}=e,n=aT("SelectScrollButton",s),o=l.useRef(null),c=ap(s),d=l.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return l.useEffect(()=>()=>d(),[d]),tU(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,i.jsx)(ew.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:tv(a.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:tv(a.onPointerMove,()=>{n.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:tv(a.onPointerLeave,()=>{d()})})}),a6=l.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e;return(0,i.jsx)(ew.div,{"aria-hidden":!0,...r,ref:t})});a6.displayName="SelectSeparator";var a8="SelectArrow";l.forwardRef((e,t)=>{let{__scopeSelect:s,...r}=e,a=av(s),n=aj(a8,s),l=aT(a8,s);return n.open&&"popper"===l.position?(0,i.jsx)(rv,{...a,...r,ref:t}):null}).displayName=a8;var a7=l.forwardRef(({__scopeSelect:e,value:t,...s},r)=>{let a=l.useRef(null),n=u(r,a),o=rC(t);return l.useEffect(()=>{let e=a.current;if(!e)return;let s=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==t&&s){let r=new Event("change",{bubbles:!0});s.call(e,t),e.dispatchEvent(r)}},[o,t]),(0,i.jsx)(ew.select,{...s,style:{...rS,...s.style},ref:n,defaultValue:t})});function a9(e){return""===e||void 0===e}function ne(e){let t=tN(e),s=l.useRef(""),r=l.useRef(0),a=l.useCallback(e=>{let a=s.current+e;t(a),function e(t){s.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(a)},[t]),n=l.useCallback(()=>{s.current="",window.clearTimeout(r.current)},[]);return l.useEffect(()=>()=>window.clearTimeout(r.current),[]),[s,a,n]}function nt(e,t,s){var r;let a=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,n=(r=Math.max(s?e.indexOf(s):-1,0),e.map((t,s)=>e[(r+s)%e.length]));1===a.length&&(n=n.filter(e=>e!==s));let i=n.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return i!==s?i:void 0}a7.displayName="SelectBubbleInput";let ns=eE("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),nr=eE("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),na=eE("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nn=l.forwardRef(({className:e,children:t,...s},r)=>(0,i.jsxs)(aC,{ref:r,className:em("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,i.jsx(aA,{asChild:!0,children:i.jsx(ns,{className:"h-4 w-4 opacity-50"})})]}));nn.displayName=aC.displayName;let ni=l.forwardRef(({className:e,...t},s)=>i.jsx(a2,{ref:s,className:em("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(nr,{className:"h-4 w-4"})}));ni.displayName=a2.displayName;let nl=l.forwardRef(({className:e,...t},s)=>i.jsx(a5,{ref:s,className:em("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(ns,{className:"h-4 w-4"})}));nl.displayName=a5.displayName;let no=l.forwardRef(({className:e,children:t,position:s="popper",...r},a)=>i.jsx(aP,{children:(0,i.jsxs)(aL,{ref:a,className:em("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[i.jsx(ni,{}),i.jsx(a$,{className:em("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(nl,{})]})}));no.displayName=aL.displayName,l.forwardRef(({className:e,...t},s)=>i.jsx(aW,{ref:s,className:em("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=aW.displayName;let nc=l.forwardRef(({className:e,children:t,...s},r)=>(0,i.jsxs)(aJ,{ref:r,className:em("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(a0,{children:i.jsx(na,{className:"h-4 w-4"})})}),i.jsx(aZ,{children:t})]}));nc.displayName=aJ.displayName,l.forwardRef(({className:e,...t},s)=>i.jsx(a6,{ref:s,className:em("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=a6.displayName;let nd=eE("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),nu=eE("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),nm=eE("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),nh=eE("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),np=eE("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var nx="rovingFocusGroup.onEntryFocus",nf={bubbles:!1,cancelable:!0},ng="RovingFocusGroup",[nv,ny,nj]=tj(ng),[nw,nb]=ty(ng,[nj]),[nN,nk]=nw(ng),nC=l.forwardRef((e,t)=>(0,i.jsx)(nv.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(nv.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,i.jsx)(nS,{...e,ref:t})})}));nC.displayName=ng;var nS=l.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,orientation:r,loop:a=!1,dir:n,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:m,preventScrollOnEntryFocus:h=!1,...p}=e,x=l.useRef(null),f=u(t,x),g=tb(n),[v,y]=rk({prop:o,defaultProp:c??null,onChange:d,caller:ng}),[j,w]=l.useState(!1),b=tN(m),N=ny(s),k=l.useRef(!1),[C,S]=l.useState(0);return l.useEffect(()=>{let e=x.current;if(e)return e.addEventListener(nx,b),()=>e.removeEventListener(nx,b)},[b]),(0,i.jsx)(nN,{scope:s,orientation:r,dir:g,loop:a,currentTabStopId:v,onItemFocus:l.useCallback(e=>y(e),[y]),onItemShiftTab:l.useCallback(()=>w(!0),[]),onFocusableItemAdd:l.useCallback(()=>S(e=>e+1),[]),onFocusableItemRemove:l.useCallback(()=>S(e=>e-1),[]),children:(0,i.jsx)(ew.div,{tabIndex:j||0===C?-1:0,"data-orientation":r,...p,ref:f,style:{outline:"none",...e.style},onMouseDown:tv(e.onMouseDown,()=>{k.current=!0}),onFocus:tv(e.onFocus,e=>{let t=!k.current;if(e.target===e.currentTarget&&t&&!j){let t=new CustomEvent(nx,nf);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=N().filter(e=>e.focusable);nE([e.find(e=>e.active),e.find(e=>e.id===v),...e].filter(Boolean).map(e=>e.ref.current),h)}}k.current=!1}),onBlur:tv(e.onBlur,()=>w(!1))})})}),n_="RovingFocusGroupItem",nA=l.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:s,focusable:r=!0,active:a=!1,tabStopId:n,children:o,...c}=e,d=tq(),u=n||d,m=nk(n_,s),h=m.currentTabStopId===u,p=ny(s),{onFocusableItemAdd:x,onFocusableItemRemove:f,currentTabStopId:g}=m;return l.useEffect(()=>{if(r)return x(),()=>f()},[r,x,f]),(0,i.jsx)(nv.ItemSlot,{scope:s,id:u,focusable:r,active:a,children:(0,i.jsx)(ew.span,{tabIndex:h?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:tv(e.onMouseDown,e=>{r?m.onItemFocus(u):e.preventDefault()}),onFocus:tv(e.onFocus,()=>m.onItemFocus(u)),onKeyDown:tv(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){m.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,s){var r;let a=(r=e.key,"rtl"!==s?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return nP[a]}(e,m.orientation,m.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=p().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();let r=s.indexOf(e.currentTarget);s=m.loop?function(e,t){return e.map((s,r)=>e[(t+r)%e.length])}(s,r+1):s.slice(r+1)}setTimeout(()=>nE(s))}}),children:"function"==typeof o?o({isCurrentTabStop:h,hasTabStop:null!=g}):o})})});nA.displayName=n_;var nP={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function nE(e,t=!1){let s=document.activeElement;for(let r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}var nL=e=>{let{present:t,children:s}=e,r=function(e){var t,s;let[r,a]=l.useState(),n=l.useRef(null),i=l.useRef(e),o=l.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",s={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},l.useReducer((e,t)=>s[e][t]??e,t));return l.useEffect(()=>{let e=nR(n.current);o.current="mounted"===c?e:"none"},[c]),tU(()=>{let t=n.current,s=i.current;if(s!==e){let r=o.current,a=nR(t);e?d("MOUNT"):"none"===a||t?.display==="none"?d("UNMOUNT"):s&&r!==a?d("ANIMATION_OUT"):d("UNMOUNT"),i.current=e}},[e,d]),tU(()=>{if(r){let e;let t=r.ownerDocument.defaultView??window,s=s=>{let a=nR(n.current).includes(CSS.escape(s.animationName));if(s.target===r&&a&&(d("ANIMATION_END"),!i.current)){let s=r.style.animationFillMode;r.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===r.style.animationFillMode&&(r.style.animationFillMode=s)})}},a=e=>{e.target===r&&(o.current=nR(n.current))};return r.addEventListener("animationstart",a),r.addEventListener("animationcancel",s),r.addEventListener("animationend",s),()=>{t.clearTimeout(e),r.removeEventListener("animationstart",a),r.removeEventListener("animationcancel",s),r.removeEventListener("animationend",s)}}d("ANIMATION_END")},[r,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:l.useCallback(e=>{n.current=e?getComputedStyle(e):null,a(e)},[])}}(t),a="function"==typeof s?s({present:r.isPresent}):l.Children.only(s),n=u(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(s=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(a));return"function"==typeof s||r.isPresent?l.cloneElement(a,{ref:n}):null};function nR(e){return e?.animationName||"none"}nL.displayName="Presence";var nT="Tabs",[nM,nI]=ty(nT,[nb]),nD=nb(),[nF,nz]=nM(nT),nO=l.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:a,defaultValue:n,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=tb(o),[m,h]=rk({prop:r,onChange:a,defaultProp:n??"",caller:nT});return(0,i.jsx)(nF,{scope:s,baseId:tq(),value:m,onValueChange:h,orientation:l,dir:u,activationMode:c,children:(0,i.jsx)(ew.div,{dir:u,"data-orientation":l,...d,ref:t})})});nO.displayName=nT;var nU="TabsList",n$=l.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...a}=e,n=nz(nU,s),l=nD(s);return(0,i.jsx)(nC,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:r,children:(0,i.jsx)(ew.div,{role:"tablist","aria-orientation":n.orientation,...a,ref:t})})});n$.displayName=nU;var nV="TabsTrigger",nq=l.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,disabled:a=!1,...n}=e,l=nz(nV,s),o=nD(s),c=nW(l.baseId,r),d=nG(l.baseId,r),u=r===l.value;return(0,i.jsx)(nA,{asChild:!0,...o,focusable:!a,active:u,children:(0,i.jsx)(ew.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...n,ref:t,onMouseDown:tv(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(r)}),onKeyDown:tv(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(r)}),onFocus:tv(e.onFocus,()=>{let e="manual"!==l.activationMode;u||a||!e||l.onValueChange(r)})})})});nq.displayName=nV;var nH="TabsContent",nB=l.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,forceMount:a,children:n,...o}=e,c=nz(nH,s),d=nW(c.baseId,r),u=nG(c.baseId,r),m=r===c.value,h=l.useRef(m);return l.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,i.jsx)(nL,{present:a||m,children:({present:s})=>(0,i.jsx)(ew.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!s,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&n})})});function nW(e,t){return`${e}-trigger-${t}`}function nG(e,t){return`${e}-content-${t}`}nB.displayName=nH;let nK=l.forwardRef(({className:e,...t},s)=>i.jsx(n$,{ref:s,className:em("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));nK.displayName=n$.displayName;let nY=l.forwardRef(({className:e,...t},s)=>i.jsx(nq,{ref:s,className:em("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));nY.displayName=nq.displayName;let nJ=l.forwardRef(({className:e,...t},s)=>i.jsx(nB,{ref:s,className:em("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));nJ.displayName=nB.displayName;let nX=eE("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),nZ=eE("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),nQ=eE("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),n0=eE("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),n1=eE("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);function n2({onSuccess:e,onCancel:t}){let[s,r]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",companyName:"",businessType:"",companyNumber:"",vatNumber:"",addressLine1:"",addressLine2:"",city:"",postcode:"",country:"United Kingdom",plan:"basic",role:"user",isAdmin:!1,sendWelcomeEmail:!0,password:"",confirmPassword:""}),[a,n]=(0,l.useState)(!1),[o,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(!1),[p,x]=(0,l.useState)(!1),[f,g]=(0,l.useState)({}),v=(e,t)=>{r(s=>({...s,[e]:t})),f[e]&&g(t=>({...t,[e]:""}))},y=()=>{let e={};if(s.firstName.trim()||(e.firstName="First name is required"),s.lastName.trim()||(e.lastName="Last name is required"),s.email.trim()?eB(s.email)||(e.email="Please enter a valid email address"):e.email="Email is required",s.companyName.trim()||(e.companyName="Company name is required"),s.addressLine1.trim()||(e.addressLine1="Address is required"),s.city.trim()||(e.city="City is required"),s.postcode.trim()||(e.postcode="Postcode is required"),s.password){let t=function(e){let t=[];return e.length<8&&t.push("Password must be at least 8 characters long"),/[A-Z]/.test(e)||t.push("Password must contain at least one uppercase letter"),/[a-z]/.test(e)||t.push("Password must contain at least one lowercase letter"),/\d/.test(e)||t.push("Password must contain at least one number"),/[!@#$%^&*(),.?":{}|<>]/.test(e)||t.push("Password must contain at least one special character"),{valid:0===t.length,errors:t}}(s.password);t.valid||(e.password=t.errors[0])}else e.password="Password is required";return s.password!==s.confirmPassword&&(e.confirmPassword="Passwords do not match"),s.phone&&!/^[\+]?[0-9\s\-\(\)]{10,}$/.test(s.phone)&&(e.phone="Please enter a valid phone number"),g(e),0===Object.keys(e).length},j=async t=>{if(t.preventDefault(),c(""),u(""),!y()){c("Please fix the validation errors below");return}n(!0);try{await eq("admin_create_user_started",{email:s.email,companyName:s.companyName,plan:s.plan,isAdmin:s.isAdmin});let t={firstName:s.firstName.trim(),lastName:s.lastName.trim(),email:s.email.trim().toLowerCase(),phone:s.phone.trim(),companyName:s.companyName.trim(),businessType:s.businessType.trim(),companyNumber:s.companyNumber.trim(),vatNumber:s.vatNumber.trim(),address:{line1:s.addressLine1.trim(),line2:s.addressLine2.trim(),city:s.city.trim(),postcode:s.postcode.trim(),country:s.country},plan:s.plan,role:s.role,is_admin:s.isAdmin,send_welcome_email:s.sendWelcomeEmail,password:s.password},r=await eU.post("/api/admin/users/create",t);await eq("admin_create_user_success",{userId:r.user.id,email:s.email,companyName:s.companyName}),u("User created successfully!"),setTimeout(()=>{e(r.user)},1500)}catch(e){await eq("admin_create_user_error",{email:s.email,error:e.message}),c(e.message||"Failed to create user")}finally{n(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(nX,{className:"h-6 w-6 text-primary"}),i.jsx("h2",{className:"text-2xl font-bold",children:"Create New User"})]}),i.jsx(ep,{variant:"ghost",size:"sm",onClick:t,children:i.jsx(e2,{className:"h-4 w-4"})})]}),o&&(0,i.jsxs)(eS,{className:"mb-4",variant:"destructive",children:[i.jsx(eR,{className:"h-4 w-4"}),i.jsx(e_,{children:o})]}),d&&(0,i.jsxs)(eS,{className:"mb-4",children:[i.jsx(eT,{className:"h-4 w-4"}),i.jsx(e_,{children:d})]}),(0,i.jsxs)("form",{onSubmit:j,children:[(0,i.jsxs)(nO,{defaultValue:"personal",className:"space-y-6",children:[(0,i.jsxs)(nK,{className:"grid w-full grid-cols-4",children:[i.jsx(nY,{value:"personal",children:"Personal"}),i.jsx(nY,{value:"business",children:"Business"}),i.jsx(nY,{value:"address",children:"Address"}),i.jsx(nY,{value:"account",children:"Account"})]}),i.jsx(nJ,{value:"personal",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(nZ,{className:"h-5 w-5"}),"Personal Information"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"firstName",children:"First Name *"}),i.jsx(ey,{id:"firstName",value:s.firstName,onChange:e=>v("firstName",e.target.value),placeholder:"John",className:f.firstName?"border-red-500":""}),f.firstName&&i.jsx("p",{className:"text-sm text-red-500",children:f.firstName})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"lastName",children:"Last Name *"}),i.jsx(ey,{id:"lastName",value:s.lastName,onChange:e=>v("lastName",e.target.value),placeholder:"Doe",className:f.lastName?"border-red-500":""}),f.lastName&&i.jsx("p",{className:"text-sm text-red-500",children:f.lastName})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"email",children:"Email Address *"}),i.jsx(ey,{id:"email",type:"email",value:s.email,onChange:e=>v("email",e.target.value),placeholder:"john.doe@company.com",className:f.email?"border-red-500":""}),f.email&&i.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"phone",children:"Phone Number"}),i.jsx(ey,{id:"phone",type:"tel",value:s.phone,onChange:e=>v("phone",e.target.value),placeholder:"+44 20 7123 4567",className:f.phone?"border-red-500":""}),f.phone&&i.jsx("p",{className:"text-sm text-red-500",children:f.phone})]})]})]})}),i.jsx(nJ,{value:"business",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(nQ,{className:"h-5 w-5"}),"Business Information"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"companyName",children:"Company Name *"}),i.jsx(ey,{id:"companyName",value:s.companyName,onChange:e=>v("companyName",e.target.value),placeholder:"Acme Corporation Ltd",className:f.companyName?"border-red-500":""}),f.companyName&&i.jsx("p",{className:"text-sm text-red-500",children:f.companyName})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"businessType",children:"Business Type"}),(0,i.jsxs)(aN,{value:s.businessType,onValueChange:e=>v("businessType",e),children:[i.jsx(nn,{children:i.jsx(a_,{placeholder:"Select business type"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"limited_company",children:"Limited Company"}),i.jsx(nc,{value:"sole_trader",children:"Sole Trader"}),i.jsx(nc,{value:"partnership",children:"Partnership"}),i.jsx(nc,{value:"llp",children:"Limited Liability Partnership"}),i.jsx(nc,{value:"charity",children:"Charity"}),i.jsx(nc,{value:"other",children:"Other"})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"companyNumber",children:"Company Number"}),i.jsx(ey,{id:"companyNumber",value:s.companyNumber,onChange:e=>v("companyNumber",e.target.value),placeholder:"12345678"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"vatNumber",children:"VAT Number"}),i.jsx(ey,{id:"vatNumber",value:s.vatNumber,onChange:e=>v("vatNumber",e.target.value),placeholder:"GB123456789"})]})]})]})]})}),i.jsx(nJ,{value:"address",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(n0,{className:"h-5 w-5"}),"Address Information"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"addressLine1",children:"Address Line 1 *"}),i.jsx(ey,{id:"addressLine1",value:s.addressLine1,onChange:e=>v("addressLine1",e.target.value),placeholder:"123 Business Street",className:f.addressLine1?"border-red-500":""}),f.addressLine1&&i.jsx("p",{className:"text-sm text-red-500",children:f.addressLine1})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"addressLine2",children:"Address Line 2"}),i.jsx(ey,{id:"addressLine2",value:s.addressLine2,onChange:e=>v("addressLine2",e.target.value),placeholder:"Suite 100"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"city",children:"City *"}),i.jsx(ey,{id:"city",value:s.city,onChange:e=>v("city",e.target.value),placeholder:"London",className:f.city?"border-red-500":""}),f.city&&i.jsx("p",{className:"text-sm text-red-500",children:f.city})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"postcode",children:"Postcode *"}),i.jsx(ey,{id:"postcode",value:s.postcode,onChange:e=>v("postcode",e.target.value),placeholder:"SW1A 1AA",className:f.postcode?"border-red-500":""}),f.postcode&&i.jsx("p",{className:"text-sm text-red-500",children:f.postcode})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"country",children:"Country"}),(0,i.jsxs)(aN,{value:s.country,onValueChange:e=>v("country",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"United Kingdom",children:"United Kingdom"}),i.jsx(nc,{value:"United States",children:"United States"}),i.jsx(nc,{value:"Canada",children:"Canada"}),i.jsx(nc,{value:"Australia",children:"Australia"}),i.jsx(nc,{value:"Germany",children:"Germany"}),i.jsx(nc,{value:"France",children:"France"}),i.jsx(nc,{value:"Other",children:"Other"})]})]})]})]})]})]})}),i.jsx(nJ,{value:"account",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(eL,{className:"h-5 w-5"}),"Account Settings"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"plan",children:"Subscription Plan"}),(0,i.jsxs)(aN,{value:s.plan,onValueChange:e=>v("plan",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"basic",children:"Basic - \xa319.99/month"}),i.jsx(nc,{value:"premium",children:"Premium - \xa339.99/month"}),i.jsx(nc,{value:"professional",children:"Professional - \xa379.99/month"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"role",children:"User Role"}),(0,i.jsxs)(aN,{value:s.role,onValueChange:e=>v("role",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"user",children:"User"}),i.jsx(nc,{value:"admin",children:"Admin"}),i.jsx(nc,{value:"super_admin",children:"Super Admin"})]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"isAdmin",checked:s.isAdmin,onChange:e=>v("isAdmin",e.target.checked),className:"rounded"}),i.jsx(ek,{htmlFor:"isAdmin",children:"Grant Admin Access"})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"sendWelcomeEmail",checked:s.sendWelcomeEmail,onChange:e=>v("sendWelcomeEmail",e.target.checked),className:"rounded"}),i.jsx(ek,{htmlFor:"sendWelcomeEmail",children:"Send Welcome Email"})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"password",children:"Password *"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(ey,{id:"password",type:m?"text":"password",value:s.password,onChange:e=>v("password",e.target.value),placeholder:"Enter secure password",className:f.password?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>h(!m),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:m?i.jsx(eI,{className:"h-4 w-4"}):i.jsx(eD,{className:"h-4 w-4"})})]}),f.password&&i.jsx("p",{className:"text-sm text-red-500",children:f.password}),i.jsx(ep,{type:"button",variant:"outline",size:"sm",onClick:()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*",t="";for(let s=0;s<12;s++)t+=e.charAt(Math.floor(Math.random()*e.length));r(e=>({...e,password:t,confirmPassword:t}))},className:"mt-2",children:"Generate Secure Password"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,i.jsxs)("div",{className:"relative",children:[i.jsx(ey,{id:"confirmPassword",type:p?"text":"password",value:s.confirmPassword,onChange:e=>v("confirmPassword",e.target.value),placeholder:"Confirm password",className:f.confirmPassword?"border-red-500":""}),i.jsx("button",{type:"button",onClick:()=>x(!p),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",children:p?i.jsx(eI,{className:"h-4 w-4"}):i.jsx(eD,{className:"h-4 w-4"})})]}),f.confirmPassword&&i.jsx("p",{className:"text-sm text-red-500",children:f.confirmPassword})]})]})]})})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx(ep,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),i.jsx(ep,{type:"submit",disabled:a,children:a?(0,i.jsxs)(i.Fragment,{children:[i.jsx(n1,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating User..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(nX,{className:"h-4 w-4 mr-2"}),"Create User"]})})]})]})]})})})}function n4({user:e,onSuccess:t,onCancel:s}){let[r,a]=(0,l.useState)({firstName:e.firstName||e.name?.split(" ")[0]||"",lastName:e.lastName||e.name?.split(" ")[1]||"",email:e.email||"",phone:e.phone||"",companyName:e.companyName||"",businessType:e.businessType||"",companyNumber:e.companyNumber||"",vatNumber:e.vatNumber||"",addressLine1:e.address?.line1||"",addressLine2:e.address?.line2||"",city:e.address?.city||"",postcode:e.address?.postcode||"",country:e.address?.country||"United Kingdom",plan:e.plan||"basic",role:e.role||"user",isAdmin:e.is_admin||!1,status:e.status||"active",kycStatus:e.kyc_status||"pending"}),[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(""),[u,m]=(0,l.useState)(""),[h,p]=(0,l.useState)({}),x=(e,t)=>{a(s=>({...s,[e]:t})),h[e]&&p(t=>({...t,[e]:""}))},f=()=>{let e={};return r.firstName.trim()||(e.firstName="First name is required"),r.lastName.trim()||(e.lastName="Last name is required"),r.email.trim()?eB(r.email)||(e.email="Please enter a valid email address"):e.email="Email is required",r.companyName.trim()||(e.companyName="Company name is required"),r.addressLine1.trim()||(e.addressLine1="Address is required"),r.city.trim()||(e.city="City is required"),r.postcode.trim()||(e.postcode="Postcode is required"),r.phone&&!/^[\+]?[0-9\s\-\(\)]{10,}$/.test(r.phone)&&(e.phone="Please enter a valid phone number"),p(e),0===Object.keys(e).length},g=async s=>{if(s.preventDefault(),d(""),m(""),!f()){d("Please fix the validation errors below");return}o(!0);try{await eq("admin_edit_user_started",{userId:e.id,email:r.email,changes:r});let s={firstName:r.firstName.trim(),lastName:r.lastName.trim(),email:r.email.trim().toLowerCase(),phone:r.phone.trim(),companyName:r.companyName.trim(),businessType:r.businessType.trim(),companyNumber:r.companyNumber.trim(),vatNumber:r.vatNumber.trim(),address:{line1:r.addressLine1.trim(),line2:r.addressLine2.trim(),city:r.city.trim(),postcode:r.postcode.trim(),country:r.country},plan:r.plan,role:r.role,is_admin:r.isAdmin,status:r.status,kyc_status:r.kycStatus},a=await eU.put(`/api/admin/users/${e.id}`,s);await eq("admin_edit_user_success",{userId:e.id,email:r.email,changes:r}),m("User updated successfully!"),setTimeout(()=>{t(a.user)},1500)}catch(t){await eq("admin_edit_user_error",{userId:e.id,email:r.email,error:t.message}),d(t.message||"Failed to update user")}finally{o(!1)}},v=async()=>{o(!0);try{await eq("admin_suspend_user",{userId:e.id}),await eU.put(`/api/admin/users/${e.id}/suspend`),m("User suspended successfully!"),setTimeout(()=>{t({...e,status:"suspended"})},1500)}catch(e){d(e.message||"Failed to suspend user")}finally{o(!1)}},y=async()=>{o(!0);try{await eq("admin_activate_user",{userId:e.id}),await eU.put(`/api/admin/users/${e.id}/activate`),m("User activated successfully!"),setTimeout(()=>{t({...e,status:"active"})},1500)}catch(e){d(e.message||"Failed to activate user")}finally{o(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-background rounded-lg shadow-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(nZ,{className:"h-6 w-6 text-primary"}),(0,i.jsxs)("h2",{className:"text-2xl font-bold",children:["Edit User: ",e.name]})]}),i.jsx(ep,{variant:"ghost",size:"sm",onClick:s,children:i.jsx(e2,{className:"h-4 w-4"})})]}),c&&(0,i.jsxs)(eS,{className:"mb-4",variant:"destructive",children:[i.jsx(eR,{className:"h-4 w-4"}),i.jsx(e_,{children:c})]}),u&&(0,i.jsxs)(eS,{className:"mb-4",children:[i.jsx(eT,{className:"h-4 w-4"}),i.jsx(e_,{children:u})]}),(0,i.jsxs)("form",{onSubmit:g,children:[(0,i.jsxs)(nO,{defaultValue:"personal",className:"space-y-6",children:[(0,i.jsxs)(nK,{className:"grid w-full grid-cols-4",children:[i.jsx(nY,{value:"personal",children:"Personal"}),i.jsx(nY,{value:"business",children:"Business"}),i.jsx(nY,{value:"address",children:"Address"}),i.jsx(nY,{value:"account",children:"Account"})]}),i.jsx(nJ,{value:"personal",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(nZ,{className:"h-5 w-5"}),"Personal Information"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"firstName",children:"First Name *"}),i.jsx(ey,{id:"firstName",value:r.firstName,onChange:e=>x("firstName",e.target.value),placeholder:"John",className:h.firstName?"border-red-500":""}),h.firstName&&i.jsx("p",{className:"text-sm text-red-500",children:h.firstName})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"lastName",children:"Last Name *"}),i.jsx(ey,{id:"lastName",value:r.lastName,onChange:e=>x("lastName",e.target.value),placeholder:"Doe",className:h.lastName?"border-red-500":""}),h.lastName&&i.jsx("p",{className:"text-sm text-red-500",children:h.lastName})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"email",children:"Email Address *"}),i.jsx(ey,{id:"email",type:"email",value:r.email,onChange:e=>x("email",e.target.value),placeholder:"john.doe@company.com",className:h.email?"border-red-500":""}),h.email&&i.jsx("p",{className:"text-sm text-red-500",children:h.email})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"phone",children:"Phone Number"}),i.jsx(ey,{id:"phone",type:"tel",value:r.phone,onChange:e=>x("phone",e.target.value),placeholder:"+44 20 7123 4567",className:h.phone?"border-red-500":""}),h.phone&&i.jsx("p",{className:"text-sm text-red-500",children:h.phone})]})]})]})}),i.jsx(nJ,{value:"business",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(nQ,{className:"h-5 w-5"}),"Business Information"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"companyName",children:"Company Name *"}),i.jsx(ey,{id:"companyName",value:r.companyName,onChange:e=>x("companyName",e.target.value),placeholder:"Acme Corporation Ltd",className:h.companyName?"border-red-500":""}),h.companyName&&i.jsx("p",{className:"text-sm text-red-500",children:h.companyName})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"businessType",children:"Business Type"}),(0,i.jsxs)(aN,{value:r.businessType,onValueChange:e=>x("businessType",e),children:[i.jsx(nn,{children:i.jsx(a_,{placeholder:"Select business type"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"limited_company",children:"Limited Company"}),i.jsx(nc,{value:"sole_trader",children:"Sole Trader"}),i.jsx(nc,{value:"partnership",children:"Partnership"}),i.jsx(nc,{value:"llp",children:"Limited Liability Partnership"}),i.jsx(nc,{value:"charity",children:"Charity"}),i.jsx(nc,{value:"other",children:"Other"})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"companyNumber",children:"Company Number"}),i.jsx(ey,{id:"companyNumber",value:r.companyNumber,onChange:e=>x("companyNumber",e.target.value),placeholder:"12345678"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"vatNumber",children:"VAT Number"}),i.jsx(ey,{id:"vatNumber",value:r.vatNumber,onChange:e=>x("vatNumber",e.target.value),placeholder:"GB123456789"})]})]})]})]})}),i.jsx(nJ,{value:"address",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(n0,{className:"h-5 w-5"}),"Address Information"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"addressLine1",children:"Address Line 1 *"}),i.jsx(ey,{id:"addressLine1",value:r.addressLine1,onChange:e=>x("addressLine1",e.target.value),placeholder:"123 Business Street",className:h.addressLine1?"border-red-500":""}),h.addressLine1&&i.jsx("p",{className:"text-sm text-red-500",children:h.addressLine1})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"addressLine2",children:"Address Line 2"}),i.jsx(ey,{id:"addressLine2",value:r.addressLine2,onChange:e=>x("addressLine2",e.target.value),placeholder:"Suite 100"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"city",children:"City *"}),i.jsx(ey,{id:"city",value:r.city,onChange:e=>x("city",e.target.value),placeholder:"London",className:h.city?"border-red-500":""}),h.city&&i.jsx("p",{className:"text-sm text-red-500",children:h.city})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"postcode",children:"Postcode *"}),i.jsx(ey,{id:"postcode",value:r.postcode,onChange:e=>x("postcode",e.target.value),placeholder:"SW1A 1AA",className:h.postcode?"border-red-500":""}),h.postcode&&i.jsx("p",{className:"text-sm text-red-500",children:h.postcode})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"country",children:"Country"}),(0,i.jsxs)(aN,{value:r.country,onValueChange:e=>x("country",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"United Kingdom",children:"United Kingdom"}),i.jsx(nc,{value:"United States",children:"United States"}),i.jsx(nc,{value:"Canada",children:"Canada"}),i.jsx(nc,{value:"Australia",children:"Australia"}),i.jsx(nc,{value:"Germany",children:"Germany"}),i.jsx(nc,{value:"France",children:"France"}),i.jsx(nc,{value:"Other",children:"Other"})]})]})]})]})]})]})}),i.jsx(nJ,{value:"account",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:(0,i.jsxs)(eg,{className:"flex items-center gap-2",children:[i.jsx(eL,{className:"h-5 w-5"}),"Account Settings"]})}),(0,i.jsxs)(ev,{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"plan",children:"Subscription Plan"}),(0,i.jsxs)(aN,{value:r.plan,onValueChange:e=>x("plan",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"basic",children:"Basic - \xa319.99/month"}),i.jsx(nc,{value:"premium",children:"Premium - \xa339.99/month"}),i.jsx(nc,{value:"professional",children:"Professional - \xa379.99/month"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"role",children:"User Role"}),(0,i.jsxs)(aN,{value:r.role,onValueChange:e=>x("role",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"user",children:"User"}),i.jsx(nc,{value:"admin",children:"Admin"}),i.jsx(nc,{value:"super_admin",children:"Super Admin"})]})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"status",children:"Account Status"}),(0,i.jsxs)(aN,{value:r.status,onValueChange:e=>x("status",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"active",children:"Active"}),i.jsx(nc,{value:"suspended",children:"Suspended"}),i.jsx(nc,{value:"pending",children:"Pending"})]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"kycStatus",children:"KYC Status"}),(0,i.jsxs)(aN,{value:r.kycStatus,onValueChange:e=>x("kycStatus",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"pending",children:"Pending"}),i.jsx(nc,{value:"approved",children:"Approved"}),i.jsx(nc,{value:"rejected",children:"Rejected"})]})]})]})]}),i.jsx("div",{className:"space-y-4",children:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"isAdmin",checked:r.isAdmin,onChange:e=>x("isAdmin",e.target.checked),className:"rounded"}),i.jsx(ek,{htmlFor:"isAdmin",children:"Grant Admin Access"})]})})]})]})})]}),(0,i.jsxs)("div",{className:"flex justify-between mt-6",children:[i.jsx("div",{className:"flex gap-2",children:"active"===r.status?(0,i.jsxs)(ep,{type:"button",variant:"destructive",onClick:v,disabled:n,children:[i.jsx(nu,{className:"h-4 w-4 mr-2"}),"Suspend User"]}):(0,i.jsxs)(ep,{type:"button",onClick:y,disabled:n,children:[i.jsx(tr,{className:"h-4 w-4 mr-2"}),"Activate User"]})}),(0,i.jsxs)("div",{className:"flex gap-3",children:[i.jsx(ep,{type:"button",variant:"outline",onClick:s,children:"Cancel"}),i.jsx(ep,{type:"submit",disabled:n,children:n?(0,i.jsxs)(i.Fragment,{children:[i.jsx(eF,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx(n1,{className:"h-4 w-4 mr-2"}),"Update User"]})})]})]})]})]})})})}function n5({onNavigate:e}){let[t,s]=(0,l.useState)(""),[r,a]=(0,l.useState)("all"),[n,o]=(0,l.useState)("all"),[c,d]=(0,l.useState)("all"),[u,m]=(0,l.useState)(!1),[h,p]=(0,l.useState)([]),[x,f]=(0,l.useState)(!1),[g,v]=(0,l.useState)(!1),[y,j]=(0,l.useState)(null),{data:w,isLoading:b,refetch:N}=eW("/api/admin/users"),{data:k,isLoading:C}=eW("/api/admin/users/stats"),S=w||[{id:1,name:"Jane Doe",email:"jane@example.com",kyc:"approved",plan:"premium",status:"active",joined:"2023-08-15",lastLogin:"2 hours ago",mailCount:23,totalSpent:"\xa3299.88",companyName:"Doe Enterprises Ltd",address:"123 Business St, London",phone:"+44 20 7123 4567"},{id:2,name:"John Smith",email:"john@example.com",kyc:"pending",plan:"basic",status:"active",joined:"2023-09-02",lastLogin:"1 day ago",mailCount:8,totalSpent:"\xa339.99",companyName:"Smith Consulting",address:"456 High St, Manchester",phone:"+44 161 234 5678"},{id:3,name:"Alice Johnson",email:"alice@example.com",kyc:"approved",plan:"professional",status:"suspended",joined:"2023-07-20",lastLogin:"5 days ago",mailCount:156,totalSpent:"\xa31,247.50",companyName:"Johnson & Associates",address:"789 Corporate Ave, Birmingham",phone:"+44 121 345 6789"}],_=S.filter(e=>{let s=e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||e.companyName&&e.companyName.toLowerCase().includes(t.toLowerCase()),a="all"===r||e.status===r,i="all"===n||e.plan===n,l="all"===c||e.kyc===c;return s&&a&&i&&l}),A=async()=>{m(!0);try{await eq("admin_export_users",{filters:{statusFilter:r,planFilter:n,kycFilter:c,searchTerm:t}});let e=await eU.get("/api/admin/users/export",{params:{status:r,plan:n,kyc:c,search:t}}),s=new Blob([e.data],{type:"application/json"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.download=`users-export-${new Date().toISOString().split("T")[0]}.json`,i.click()}catch(e){await eq("admin_export_users_error",{error:e.message})}finally{m(!1)}},P=async()=>{try{await eq("admin_add_user_initiated"),f(!0)}catch(e){await eq("admin_add_user_error",{error:e.message})}},E=async e=>{try{await eq("admin_user_created_success",{userId:e.id,email:e.email}),f(!1),N()}catch(e){await eq("admin_user_created_error",{error:e.message})}},L=async t=>{try{await eq("admin_view_user",{userId:t}),e?e("user-detail",{userId:t}):window.open(`/admin/users/${t}`,"_blank")}catch(e){await eq("admin_view_user_error",{userId:t,error:e.message})}},R=async e=>{try{await eq("admin_edit_user_initiated",{userId:e});let t=S.find(t=>t.id===e);t&&(j(t),v(!0))}catch(t){await eq("admin_edit_user_error",{userId:e,error:t.message})}},T=async e=>{try{await eq("admin_user_updated_success",{userId:e.id,email:e.email}),v(!1),j(null),N()}catch(e){await eq("admin_user_updated_error",{error:e.message})}},M=async(e,t)=>{m(!0);try{await eq("admin_update_kyc_status",{userId:e,newStatus:t}),await eU.put(`/api/admin/users/${e}/kyc-status`,{status:t}),N()}catch(s){await eq("admin_update_kyc_status_error",{userId:e,newStatus:t,error:s.message})}finally{m(!1)}},I=async e=>{m(!0);try{await eq("admin_suspend_user",{userId:e}),await eU.put(`/api/admin/users/${e}/suspend`),N()}catch(t){await eq("admin_suspend_user_error",{userId:e,error:t.message})}finally{m(!1)}},D=async e=>{m(!0);try{await eq("admin_activate_user",{userId:e}),await eU.put(`/api/admin/users/${e}/activate`),N()}catch(t){await eq("admin_activate_user_error",{userId:e,error:t.message})}finally{m(!1)}},F=async e=>{if(0!==h.length){m(!0);try{await eq("admin_bulk_action",{action:e,userIds:h}),await eU.post(`/api/admin/users/bulk/${e}`,{userIds:h}),p([]),N()}catch(t){await eq("admin_bulk_action_error",{action:e,userIds:h,error:t.message})}finally{m(!1)}}},z=e=>{p(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},O=()=>{p([])};return(0,i.jsxs)("div",{className:"space-y-6",children:[x&&i.jsx(n2,{onSuccess:E,onCancel:()=>{f(!1)}}),g&&y&&i.jsx(n4,{user:y,onSuccess:T,onCancel:()=>{v(!1),j(null)}}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts, KYC status, and subscriptions"}),k&&(0,i.jsxs)("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[(0,i.jsxs)("span",{children:["Total: ",k.total]}),(0,i.jsxs)("span",{children:["Active: ",k.active]}),(0,i.jsxs)("span",{children:["Pending KYC: ",k.pendingKyc]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:A,disabled:u,children:[i.jsx(e5,{className:"h-4 w-4"}),"Export Users"]}),(0,i.jsxs)(ep,{className:"gap-2",onClick:P,disabled:u,children:[i.jsx(nd,{className:"h-4 w-4"}),"Add User"]})]})]}),h.length>0&&i.jsx(ex,{children:i.jsx(ev,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-sm font-medium",children:[h.length," users selected"]}),i.jsx(ep,{variant:"ghost",size:"sm",onClick:O,children:"Clear"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>F("suspend"),disabled:u,children:[i.jsx(nu,{className:"h-4 w-4"}),"Suspend"]}),(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>F("activate"),disabled:u,children:[i.jsx(tr,{className:"h-4 w-4"}),"Activate"]}),(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>F("export"),disabled:u,children:[i.jsx(e5,{className:"h-4 w-4"}),"Export Selected"]})]})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"relative",children:[i.jsx(nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ey,{placeholder:"Search users by name, email, or company...",value:t,onChange:e=>s(e.target.value),className:"pl-10"})]})}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(aN,{value:r,onValueChange:a,children:[i.jsx(nn,{className:"w-[140px]",children:i.jsx(a_,{placeholder:"Status"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"all",children:"All Status"}),i.jsx(nc,{value:"active",children:"Active"}),i.jsx(nc,{value:"suspended",children:"Suspended"}),i.jsx(nc,{value:"pending",children:"Pending"})]})]}),(0,i.jsxs)(aN,{value:n,onValueChange:o,children:[i.jsx(nn,{className:"w-[140px]",children:i.jsx(a_,{placeholder:"Plan"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"all",children:"All Plans"}),i.jsx(nc,{value:"basic",children:"Basic"}),i.jsx(nc,{value:"premium",children:"Premium"}),i.jsx(nc,{value:"professional",children:"Professional"})]})]}),(0,i.jsxs)(aN,{value:c,onValueChange:d,children:[i.jsx(nn,{className:"w-[140px]",children:i.jsx(a_,{placeholder:"KYC"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"all",children:"All KYC"}),i.jsx(nc,{value:"approved",children:"Approved"}),i.jsx(nc,{value:"pending",children:"Pending"}),i.jsx(nc,{value:"rejected",children:"Rejected"})]})]})]})]})})}),i.jsx("div",{className:"hidden lg:block",children:i.jsx(ex,{children:(0,i.jsxs)(tu,{children:[i.jsx(tm,{children:(0,i.jsxs)(tp,{children:[i.jsx(tx,{className:"w-12",children:i.jsx("input",{type:"checkbox",checked:h.length===_.length&&_.length>0,onChange:h.length===_.length?O:()=>{p(_.map(e=>e.id))},className:"rounded"})}),i.jsx(tx,{children:"User"}),i.jsx(tx,{children:"KYC Status"}),i.jsx(tx,{children:"Plan"}),i.jsx(tx,{children:"Status"}),i.jsx(tx,{children:"Mail Count"}),i.jsx(tx,{children:"Total Spent"}),i.jsx(tx,{children:"Last Login"}),i.jsx(tx,{children:"Actions"})]})}),i.jsx(th,{children:_.map(e=>(0,i.jsxs)(tp,{children:[i.jsx(tf,{children:i.jsx("input",{type:"checkbox",checked:h.includes(e.id),onChange:()=>z(e.id),className:"rounded"})}),i.jsx(tf,{children:(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium",children:e.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e.email}),e.companyName&&i.jsx("div",{className:"text-xs text-muted-foreground",children:e.companyName}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:["Joined ",e.joined]})]})}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(e7,{variant:"approved"===e.kyc?"default":"pending"===e.kyc?"secondary":"destructive",children:e.kyc}),"pending"===e.kyc&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>M(e.id,"approved"),disabled:u,children:i.jsx(eT,{className:"h-3 w-3"})})]})}),i.jsx(tf,{children:i.jsx(e7,{variant:"outline",className:"capitalize",children:e.plan})}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(e7,{variant:"active"===e.status?"default":"destructive",children:e.status}),"suspended"===e.status?i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>D(e.id),disabled:u,children:i.jsx(tr,{className:"h-3 w-3"})}):i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>I(e.id),disabled:u,children:i.jsx(nu,{className:"h-3 w-3"})})]})}),i.jsx(tf,{children:e.mailCount}),i.jsx(tf,{children:e.totalSpent}),i.jsx(tf,{className:"text-sm text-muted-foreground",children:e.lastLogin}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>L(e.id),children:i.jsx(eD,{className:"h-4 w-4"})}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>R(e.id),children:i.jsx(nh,{className:"h-4 w-4"})}),i.jsx(ep,{size:"sm",variant:"outline",children:i.jsx(np,{className:"h-4 w-4"})})]})})]},e.id))})]})})}),i.jsx("div",{className:"lg:hidden space-y-4",children:_.map(e=>i.jsx(ex,{children:(0,i.jsxs)(ev,{className:"p-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,i.jsxs)("div",{className:"flex items-start gap-3",children:[i.jsx("input",{type:"checkbox",checked:h.includes(e.id),onChange:()=>z(e.id),className:"rounded mt-1"}),(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"font-medium",children:e.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.email}),e.companyName&&i.jsx("p",{className:"text-xs text-muted-foreground",children:e.companyName}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Joined ",e.joined]})]})]}),(0,i.jsxs)("div",{className:"text-right",children:[i.jsx(e7,{variant:"approved"===e.kyc?"default":"secondary",className:"mb-1",children:e.kyc}),i.jsx("br",{}),i.jsx(e7,{variant:"active"===e.status?"default":"destructive",children:e.status})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Plan:"})," ",i.jsx("span",{className:"capitalize",children:e.plan})]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Mail:"})," ",e.mailCount]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Spent:"})," ",e.totalSpent]}),(0,i.jsxs)("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Login:"})," ",e.lastLogin]})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[i.jsx(ep,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>L(e.id),children:"View"}),i.jsx(ep,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>R(e.id),children:"Edit"}),i.jsx(ep,{size:"sm",variant:"outline",className:"flex-1",children:"Actions"})]})]})},e.id))})]})}let n3=eE("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),n6=eE("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),n8=eE("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function n7({}){let[e,t]=(0,l.useState)("received"),[s,r]=(0,l.useState)(""),[a,n]=(0,l.useState)("all"),[o,c]=(0,l.useState)("all"),[d,u]=(0,l.useState)(!1),[m,h]=(0,l.useState)([]),{data:p,isLoading:x,refetch:f}=eW("/api/admin/mail-items"),{data:g,isLoading:v}=eW("/api/admin/mail-items/stats"),y=(p||[{id:101,userId:1,userName:"Jane Doe",sender:"HMRC",subject:"Tax Notice",tag:"Government",status:"received",received:"2 hours ago",scanned:!0,weight:"0.2kg",dimensions:"A4"},{id:102,userId:2,userName:"John Smith",sender:"Lloyds Bank",subject:"Account Statement",tag:"Financial",status:"pending",received:"4 hours ago",scanned:!1,weight:"0.1kg",dimensions:"A4"},{id:103,userId:3,userName:"Alice Johnson",sender:"Royal Mail",subject:"Delivery Notification",tag:"Logistics",status:"processed",received:"6 hours ago",scanned:!0,forwarded:!0,trackingNumber:"FR-2847",weight:"0.5kg",dimensions:"Small Package"}]).filter(t=>{let r=t.userName.toLowerCase().includes(s.toLowerCase())||t.sender.toLowerCase().includes(s.toLowerCase())||t.subject.toLowerCase().includes(s.toLowerCase()),n="all"===a||t.status===a,i="all"===o||t.tag===o,l="all"===e||t.status===e;return r&&n&&i&&l}),j=async()=>{try{await eq("admin_add_mail_item"),window.open("/admin/mail/add","_blank")}catch(e){await eq("admin_add_mail_item_error",{error:e.message})}},w=async e=>{try{await eq("admin_view_mail_item",{itemId:e}),window.open(`/admin/mail/${e}`,"_blank")}catch(t){await eq("admin_view_mail_item_error",{itemId:e,error:t.message})}},b=async e=>{try{await eq("admin_edit_mail_item",{itemId:e}),window.open(`/admin/mail/${e}/edit`,"_blank")}catch(t){await eq("admin_edit_mail_item_error",{itemId:e,error:t.message})}},N=async e=>{u(!0);try{await eq("admin_process_mail_item",{itemId:e}),await eU.post(`/api/admin/mail-items/${e}/process`),f()}catch(t){await eq("admin_process_mail_item_error",{itemId:e,error:t.message})}finally{u(!1)}},k=async(e,t)=>{u(!0);try{await eq("admin_tag_mail_item",{itemId:e,tag:t}),await eU.post(`/api/admin/mail-items/${e}/tag`,{tag:t}),f()}catch(s){await eq("admin_tag_mail_item_error",{itemId:e,tag:t,error:s.message})}finally{u(!1)}},C=async e=>{u(!0);try{await eq("admin_forward_mail_item",{itemId:e}),await eU.post(`/api/admin/mail-items/${e}/forward`),f()}catch(t){await eq("admin_forward_mail_item_error",{itemId:e,error:t.message})}finally{u(!1)}},S=async e=>{u(!0);try{await eq("admin_delete_mail_item",{itemId:e}),await eU.delete(`/api/admin/mail-items/${e}`),f()}catch(t){await eq("admin_delete_mail_item_error",{itemId:e,error:t.message})}finally{u(!1)}},_=async e=>{if(0!==m.length){u(!0);try{await eq("admin_bulk_mail_action",{action:e,itemIds:m}),await eU.post(`/api/admin/mail-items/bulk/${e}`,{itemIds:m}),h([]),f()}catch(t){await eq("admin_bulk_mail_action_error",{action:e,itemIds:m,error:t.message})}finally{u(!1)}}},A=async()=>{u(!0);try{await eq("admin_export_mail",{filters:{statusFilter:a,tagFilter:o,searchTerm:s,tab:e}});let t=await eU.get("/api/admin/mail-items/export",{params:{status:a,tag:o,search:s,tab:e}}),r=new Blob([t.data],{type:"application/json"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`mail-items-export-${new Date().toISOString().split("T")[0]}.json`,i.click()}catch(e){await eq("admin_export_mail_error",{error:e.message})}finally{u(!1)}},P=e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Mail Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Process and manage incoming mail and packages"}),g&&(0,i.jsxs)("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[(0,i.jsxs)("span",{children:["Total: ",g.total]}),(0,i.jsxs)("span",{children:["Received: ",g.received]}),(0,i.jsxs)("span",{children:["Pending: ",g.pending]}),(0,i.jsxs)("span",{children:["Processed: ",g.processed]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:A,disabled:d,children:[i.jsx(e5,{className:"h-4 w-4"}),"Export"]}),(0,i.jsxs)(ep,{className:"gap-2",onClick:j,disabled:d,children:[i.jsx(nd,{className:"h-4 w-4"}),"Add Item"]})]})]}),m.length>0&&i.jsx(ex,{children:i.jsx(ev,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-sm font-medium",children:[m.length," items selected"]}),i.jsx(ep,{variant:"ghost",size:"sm",onClick:()=>{h([])},children:"Clear"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>_("process"),disabled:d,children:[i.jsx(eT,{className:"h-4 w-4"}),"Process"]}),(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>_("tag"),disabled:d,children:[i.jsx(n6,{className:"h-4 w-4"}),"Tag"]}),(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>_("forward"),disabled:d,children:[i.jsx(eX,{className:"h-4 w-4"}),"Forward"]}),(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>_("delete"),disabled:d,children:[i.jsx(n8,{className:"h-4 w-4"}),"Delete"]})]})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"relative",children:[i.jsx(nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ey,{placeholder:"Search mail items...",value:s,onChange:e=>r(e.target.value),className:"pl-10"})]})}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(aN,{value:a,onValueChange:n,children:[i.jsx(nn,{className:"w-[140px]",children:i.jsx(a_,{placeholder:"Status"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"all",children:"All Status"}),i.jsx(nc,{value:"received",children:"Received"}),i.jsx(nc,{value:"pending",children:"Pending"}),i.jsx(nc,{value:"processed",children:"Processed"}),i.jsx(nc,{value:"forwarded",children:"Forwarded"})]})]}),(0,i.jsxs)(aN,{value:o,onValueChange:c,children:[i.jsx(nn,{className:"w-[140px]",children:i.jsx(a_,{placeholder:"Tag"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"all",children:"All Tags"}),i.jsx(nc,{value:"Government",children:"Government"}),i.jsx(nc,{value:"Financial",children:"Financial"}),i.jsx(nc,{value:"Logistics",children:"Logistics"}),i.jsx(nc,{value:"Legal",children:"Legal"}),i.jsx(nc,{value:"Personal",children:"Personal"})]})]})]})]})})}),(0,i.jsxs)(nO,{value:e,onValueChange:t,children:[(0,i.jsxs)(nK,{className:"grid w-full grid-cols-4",children:[i.jsx(nY,{value:"received",children:"Received"}),i.jsx(nY,{value:"pending",children:"Pending"}),i.jsx(nY,{value:"processed",children:"Processed"}),i.jsx(nY,{value:"forwarded",children:"Forwarded"})]}),i.jsx(nJ,{value:"received",className:"space-y-4",children:i.jsx(n9,{items:y.filter(e=>"received"===e.status),onView:w,onEdit:b,onProcess:N,onTag:k,onForward:C,onDelete:S,onSelect:P,selectedItems:m,loading:d})}),i.jsx(nJ,{value:"pending",className:"space-y-4",children:i.jsx(n9,{items:y.filter(e=>"pending"===e.status),onView:w,onEdit:b,onProcess:N,onTag:k,onForward:C,onDelete:S,onSelect:P,selectedItems:m,loading:d})}),i.jsx(nJ,{value:"processed",className:"space-y-4",children:i.jsx(n9,{items:y.filter(e=>"processed"===e.status),onView:w,onEdit:b,onProcess:N,onTag:k,onForward:C,onDelete:S,onSelect:P,selectedItems:m,loading:d})}),i.jsx(nJ,{value:"forwarded",className:"space-y-4",children:i.jsx(n9,{items:y.filter(e=>"forwarded"===e.status),onView:w,onEdit:b,onProcess:N,onTag:k,onForward:C,onDelete:S,onSelect:P,selectedItems:m,loading:d})})]})]})}function n9({items:e,onView:t,onEdit:s,onProcess:r,onTag:a,onForward:n,onDelete:l,onSelect:o,selectedItems:c,loading:d}){let u=e=>{switch(e){case"received":return i.jsx(eJ,{className:"h-4 w-4 text-blue-500"});case"pending":return i.jsx(n3,{className:"h-4 w-4 text-yellow-500"});case"processed":return i.jsx(eT,{className:"h-4 w-4 text-green-500"});case"forwarded":return i.jsx(eX,{className:"h-4 w-4 text-purple-500"});default:return i.jsx(e1,{className:"h-4 w-4 text-gray-500"})}};return i.jsx(ex,{children:(0,i.jsxs)(tu,{children:[i.jsx(tm,{children:(0,i.jsxs)(tp,{children:[i.jsx(tx,{className:"w-12",children:i.jsx("input",{type:"checkbox",checked:e.length>0&&e.every(e=>c.includes(e.id)),onChange:e.length>0&&e.every(e=>c.includes(e.id))?()=>{e.forEach(e=>{c.includes(e.id)&&o(e.id)})}:()=>{e.forEach(e=>{c.includes(e.id)||o(e.id)})},className:"rounded"})}),i.jsx(tx,{children:"ID"}),i.jsx(tx,{children:"User"}),i.jsx(tx,{children:"Sender"}),i.jsx(tx,{children:"Subject"}),i.jsx(tx,{children:"Tag"}),i.jsx(tx,{children:"Status"}),i.jsx(tx,{children:"Received"}),i.jsx(tx,{children:"Actions"})]})}),i.jsx(th,{children:e.map(e=>(0,i.jsxs)(tp,{children:[i.jsx(tf,{children:i.jsx("input",{type:"checkbox",checked:c.includes(e.id),onChange:()=>o(e.id),className:"rounded"})}),(0,i.jsxs)(tf,{children:["#",e.id]}),i.jsx(tf,{children:(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium",children:e.userName}),(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",e.userId]})]})}),i.jsx(tf,{children:e.sender}),i.jsx(tf,{children:e.subject}),i.jsx(tf,{children:i.jsx(e7,{variant:"outline",children:e.tag})}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[u(e.status),i.jsx(e7,{variant:"outline",className:"capitalize",children:e.status})]})}),i.jsx(tf,{className:"text-muted-foreground",children:e.received}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>t(e.id),children:i.jsx(eD,{className:"h-4 w-4"})}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>s(e.id),children:i.jsx(nh,{className:"h-4 w-4"})}),"received"===e.status&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>r(e.id),disabled:d,children:i.jsx(eT,{className:"h-4 w-4"})}),"processed"===e.status&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>n(e.id),disabled:d,children:i.jsx(eX,{className:"h-4 w-4"})}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>l(e.id),disabled:d,children:i.jsx(n8,{className:"h-4 w-4"})})]})})]},e.id))})]})})}let ie=eE("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),it=eE("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);function is({}){let[e,t]=(0,l.useState)(""),[s,r]=(0,l.useState)("all"),[a,n]=(0,l.useState)("all"),[o,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)([]),{data:m,isLoading:h,refetch:p}=eW("/api/admin/forwarding-requests"),{data:x,isLoading:f}=eW("/api/admin/forwarding-requests/stats"),g=(m||[{id:1001,userId:1,userName:"Jane Doe",mailItemId:101,mailSubject:"Tax Notice",destination:"123 Business St, London, SW1A 1AA",status:"processing",priority:"standard",trackingNumber:"FR-2847",carrier:"Royal Mail",estimatedDelivery:"2024-01-15",cost:"\xa312.99",createdAt:"2024-01-10",updatedAt:"2024-01-12"},{id:1002,userId:2,userName:"John Smith",mailItemId:102,mailSubject:"Account Statement",destination:"456 High St, Manchester, M1 1AA",status:"shipped",priority:"express",trackingNumber:"FR-2848",carrier:"DPD",estimatedDelivery:"2024-01-14",cost:"\xa318.99",createdAt:"2024-01-09",updatedAt:"2024-01-13"},{id:1003,userId:3,userName:"Alice Johnson",mailItemId:103,mailSubject:"Delivery Notification",destination:"789 Corporate Ave, Birmingham, B1 1AA",status:"delivered",priority:"urgent",trackingNumber:"FR-2849",carrier:"UPS",estimatedDelivery:"2024-01-12",actualDelivery:"2024-01-12",cost:"\xa324.99",createdAt:"2024-01-08",updatedAt:"2024-01-12"}]).filter(t=>{let r=t.userName.toLowerCase().includes(e.toLowerCase())||t.mailSubject.toLowerCase().includes(e.toLowerCase())||t.destination.toLowerCase().includes(e.toLowerCase())||t.trackingNumber&&t.trackingNumber.toLowerCase().includes(e.toLowerCase()),n="all"===s||t.status===s,i="all"===a||t.priority===a;return r&&n&&i}),v=async()=>{c(!0);try{await eq("admin_forwarding_refresh"),await p()}catch(e){await eq("admin_forwarding_refresh_error",{error:e.message})}finally{c(!1)}},y=async e=>{try{await eq("admin_view_forwarding_request",{requestId:e}),window.open(`/admin/forwarding/${e}`,"_blank")}catch(t){await eq("admin_view_forwarding_request_error",{requestId:e,error:t.message})}},j=async e=>{try{await eq("admin_edit_forwarding_request",{requestId:e}),window.open(`/admin/forwarding/${e}/edit`,"_blank")}catch(t){await eq("admin_edit_forwarding_request_error",{requestId:e,error:t.message})}},w=async e=>{c(!0);try{await eq("admin_process_forwarding_request",{requestId:e}),await eU.post(`/api/admin/forwarding-requests/${e}/process`),p()}catch(t){await eq("admin_process_forwarding_request_error",{requestId:e,error:t.message})}finally{c(!1)}},b=async e=>{c(!0);try{await eq("admin_ship_forwarding_request",{requestId:e}),await eU.post(`/api/admin/forwarding-requests/${e}/ship`),p()}catch(t){await eq("admin_ship_forwarding_request_error",{requestId:e,error:t.message})}finally{c(!1)}},N=async e=>{c(!0);try{await eq("admin_cancel_forwarding_request",{requestId:e}),await eU.post(`/api/admin/forwarding-requests/${e}/cancel`),p()}catch(t){await eq("admin_cancel_forwarding_request_error",{requestId:e,error:t.message})}finally{c(!1)}},k=async e=>{if(0!==d.length){c(!0);try{await eq("admin_bulk_forwarding_action",{action:e,requestIds:d}),await eU.post(`/api/admin/forwarding-requests/bulk/${e}`,{requestIds:d}),u([]),p()}catch(t){await eq("admin_bulk_forwarding_action_error",{action:e,requestIds:d,error:t.message})}finally{c(!1)}}},C=async()=>{c(!0);try{await eq("admin_export_forwarding_requests",{filters:{statusFilter:s,priorityFilter:a,searchTerm:e}});let t=await eU.get("/api/admin/forwarding-requests/export",{params:{status:s,priority:a,search:e}}),r=new Blob([t.data],{type:"application/json"}),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=`forwarding-requests-export-${new Date().toISOString().split("T")[0]}.json`,i.click()}catch(e){await eq("admin_export_forwarding_requests_error",{error:e.message})}finally{c(!1)}},S=e=>{u(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},_=()=>{u([])},A=e=>{switch(e){case"pending":return i.jsx(n3,{className:"h-4 w-4 text-yellow-500"});case"processing":return i.jsx(ie,{className:"h-4 w-4 text-blue-500"});case"shipped":return i.jsx(eX,{className:"h-4 w-4 text-purple-500"});case"delivered":return i.jsx(eT,{className:"h-4 w-4 text-green-500"});case"cancelled":return i.jsx(tn,{className:"h-4 w-4 text-red-500"});default:return i.jsx(e1,{className:"h-4 w-4 text-gray-500"})}},P=e=>{switch(e){case"urgent":return"bg-red-100 text-red-800";case"express":return"bg-yellow-100 text-yellow-800";case"standard":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Forwarding Management"}),i.jsx("p",{className:"text-muted-foreground",children:"Track and manage mail forwarding requests"}),x&&(0,i.jsxs)("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[(0,i.jsxs)("span",{children:["Total: ",x.total]}),(0,i.jsxs)("span",{children:["Pending: ",x.pending]}),(0,i.jsxs)("span",{children:["Processing: ",x.processing]}),(0,i.jsxs)("span",{children:["Shipped: ",x.shipped]}),(0,i.jsxs)("span",{children:["Delivered: ",x.delivered]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:C,disabled:o,children:[i.jsx(e5,{className:"h-4 w-4"}),"Export"]}),(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:v,disabled:o,children:[i.jsx(eF,{className:`h-4 w-4 ${o?"animate-spin":""}`}),"Refresh"]})]})]}),d.length>0&&i.jsx(ex,{children:i.jsx(ev,{className:"p-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("span",{className:"text-sm font-medium",children:[d.length," requests selected"]}),i.jsx(ep,{variant:"ghost",size:"sm",onClick:_,children:"Clear"})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>k("process"),disabled:o,children:[i.jsx(it,{className:"h-4 w-4"}),"Process"]}),(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>k("ship"),disabled:o,children:[i.jsx(eX,{className:"h-4 w-4"}),"Ship"]}),(0,i.jsxs)(ep,{size:"sm",variant:"outline",onClick:()=>k("cancel"),disabled:o,children:[i.jsx(tn,{className:"h-4 w-4"}),"Cancel"]})]})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:(0,i.jsxs)("div",{className:"relative",children:[i.jsx(nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(ey,{placeholder:"Search forwarding requests...",value:e,onChange:e=>t(e.target.value),className:"pl-10"})]})}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(aN,{value:s,onValueChange:r,children:[i.jsx(nn,{className:"w-[140px]",children:i.jsx(a_,{placeholder:"Status"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"all",children:"All Status"}),i.jsx(nc,{value:"pending",children:"Pending"}),i.jsx(nc,{value:"processing",children:"Processing"}),i.jsx(nc,{value:"shipped",children:"Shipped"}),i.jsx(nc,{value:"delivered",children:"Delivered"}),i.jsx(nc,{value:"cancelled",children:"Cancelled"})]})]}),(0,i.jsxs)(aN,{value:a,onValueChange:n,children:[i.jsx(nn,{className:"w-[140px]",children:i.jsx(a_,{placeholder:"Priority"})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"all",children:"All Priority"}),i.jsx(nc,{value:"standard",children:"Standard"}),i.jsx(nc,{value:"express",children:"Express"}),i.jsx(nc,{value:"urgent",children:"Urgent"})]})]})]})]})})}),i.jsx(ex,{children:(0,i.jsxs)(tu,{children:[i.jsx(tm,{children:(0,i.jsxs)(tp,{children:[i.jsx(tx,{className:"w-12",children:i.jsx("input",{type:"checkbox",checked:g.length>0&&g.every(e=>d.includes(e.id)),onChange:g.length>0&&g.every(e=>d.includes(e.id))?_:()=>{u(g.map(e=>e.id))},className:"rounded"})}),i.jsx(tx,{children:"ID"}),i.jsx(tx,{children:"User"}),i.jsx(tx,{children:"Mail Item"}),i.jsx(tx,{children:"Destination"}),i.jsx(tx,{children:"Priority"}),i.jsx(tx,{children:"Status"}),i.jsx(tx,{children:"Tracking"}),i.jsx(tx,{children:"Cost"}),i.jsx(tx,{children:"Created"}),i.jsx(tx,{children:"Actions"})]})}),i.jsx(th,{children:g.map(e=>(0,i.jsxs)(tp,{children:[i.jsx(tf,{children:i.jsx("input",{type:"checkbox",checked:d.includes(e.id),onChange:()=>S(e.id),className:"rounded"})}),(0,i.jsxs)(tf,{children:["#",e.id]}),i.jsx(tf,{children:(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium",children:e.userName}),(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",e.userId]})]})}),i.jsx(tf,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"font-medium",children:["#",e.mailItemId]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:e.mailSubject})]})}),i.jsx(tf,{children:i.jsx("div",{className:"max-w-xs",children:i.jsx("div",{className:"text-sm font-medium",children:e.destination})})}),i.jsx(tf,{children:i.jsx(e7,{className:P(e.priority),variant:"secondary",children:e.priority})}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[A(e.status),i.jsx(e7,{variant:"outline",className:"capitalize",children:e.status})]})}),i.jsx(tf,{children:e.trackingNumber?(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm font-medium",children:e.trackingNumber}),i.jsx("div",{className:"text-xs text-muted-foreground",children:e.carrier})]}):i.jsx("span",{className:"text-muted-foreground",children:"-"})}),i.jsx(tf,{children:e.cost}),i.jsx(tf,{className:"text-sm text-muted-foreground",children:e.createdAt}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>y(e.id),children:i.jsx(eD,{className:"h-4 w-4"})}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>j(e.id),children:i.jsx(nh,{className:"h-4 w-4"})}),"pending"===e.status&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>w(e.id),disabled:o,children:i.jsx(it,{className:"h-4 w-4"})}),"processing"===e.status&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>b(e.id),disabled:o,children:i.jsx(eX,{className:"h-4 w-4"})}),"delivered"!==e.status&&"cancelled"!==e.status&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>N(e.id),disabled:o,children:i.jsx(tn,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})}let ir=eE("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ia=eE("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),ii=eE("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);function il({}){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)("30d"),{data:a,isLoading:n,refetch:o}=eW("/api/admin/billing"),{data:c,isLoading:d,refetch:u}=eW("/api/admin/transactions"),{data:m,isLoading:h,refetch:p}=eW("/api/admin/invoices"),x=a||{monthlyRevenue:47329,outstandingInvoices:2847,churnRate:2.3,revenueGrowth:8.1,churnChange:-.5,pendingPayments:12},f=async()=>{t(!0);try{await eq("admin_billing_refresh"),await Promise.all([o(),u(),p()])}catch(e){await eq("admin_billing_refresh_error",{error:e.message})}finally{t(!1)}},g=async()=>{t(!0);try{await eq("admin_export_billing_reports",{timeRange:s});let e=await eU.get("/api/admin/billing/export",{params:{timeRange:s}}),t=new Blob([e.data],{type:"application/json"}),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=`billing-report-${s}-${new Date().toISOString().split("T")[0]}.json`,a.click()}catch(e){await eq("admin_export_billing_reports_error",{error:e.message})}finally{t(!1)}},v=async e=>{try{await eq("admin_view_invoice",{invoiceId:e}),window.open(`/admin/invoices/${e}`,"_blank")}catch(t){await eq("admin_view_invoice_error",{invoiceId:e,error:t.message})}},y=async e=>{t(!0);try{await eq("admin_process_payment",{transactionId:e}),await eU.post(`/api/admin/transactions/${e}/process`),u()}catch(t){await eq("admin_process_payment_error",{transactionId:e,error:t.message})}finally{t(!1)}},j=async e=>{t(!0);try{await eq("admin_refund_transaction",{transactionId:e}),await eU.post(`/api/admin/transactions/${e}/refund`),u()}catch(t){await eq("admin_refund_transaction_error",{transactionId:e,error:t.message})}finally{t(!1)}},w=e=>{switch(e){case"completed":return i.jsx(eT,{className:"h-4 w-4 text-green-500"});case"pending":return i.jsx(n3,{className:"h-4 w-4 text-yellow-500"});case"failed":return i.jsx(eR,{className:"h-4 w-4 text-red-500"});case"refunded":return i.jsx(eF,{className:"h-4 w-4 text-blue-500"});default:return i.jsx(n3,{className:"h-4 w-4 text-gray-500"})}},b=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"refunded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},N=e=>{switch(e){case"subscription":return"bg-purple-100 text-purple-800";case"one_time":return"bg-blue-100 text-blue-800";case"refund":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Billing & Revenue"}),i.jsx("p",{className:"text-muted-foreground",children:"Monitor payments, invoices, and revenue metrics"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(aN,{value:s,onValueChange:r,children:[i.jsx(nn,{className:"w-[120px]",children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"7d",children:"Last 7 days"}),i.jsx(nc,{value:"30d",children:"Last 30 days"}),i.jsx(nc,{value:"90d",children:"Last 90 days"}),i.jsx(nc,{value:"1y",children:"Last year"})]})]}),(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:g,disabled:e,children:[i.jsx(e5,{className:"h-4 w-4"}),"Export Reports"]}),(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:f,disabled:e,children:[i.jsx(eF,{className:`h-4 w-4 ${e?"animate-spin":""}`}),"Refresh"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:["\xa3",x.monthlyRevenue.toLocaleString()]}),(0,i.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[i.jsx(tt,{className:"h-3 w-3"}),"+",x.revenueGrowth,"% from last month"]})]}),i.jsx(te,{className:"h-8 w-8 text-green-500"})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Outstanding Invoices"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:["\xa3",x.outstandingInvoices.toLocaleString()]}),(0,i.jsxs)("p",{className:"text-xs text-orange-600",children:[x.pendingPayments," pending payments"]})]}),i.jsx(ir,{className:"h-8 w-8 text-orange-500"})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Churn Rate"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:[x.churnRate,"%"]}),(0,i.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[i.jsx(ts,{className:"h-3 w-3"}),x.churnChange,"% from last month"]})]}),i.jsx(ia,{className:"h-8 w-8 text-red-500"})]})})})]}),(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"Recent Transactions"})}),i.jsx(ev,{children:(0,i.jsxs)(tu,{children:[i.jsx(tm,{children:(0,i.jsxs)(tp,{children:[i.jsx(tx,{children:"ID"}),i.jsx(tx,{children:"User"}),i.jsx(tx,{children:"Type"}),i.jsx(tx,{children:"Amount"}),i.jsx(tx,{children:"Status"}),i.jsx(tx,{children:"Description"}),i.jsx(tx,{children:"Payment Method"}),i.jsx(tx,{children:"Created"}),i.jsx(tx,{children:"Actions"})]})}),i.jsx(th,{children:(c||[{id:2001,userId:1,userName:"Jane Doe",type:"subscription",amount:39.99,currency:"GBP",status:"completed",description:"Premium Plan - Monthly",createdAt:"2024-01-12",invoiceId:"INV-1045",paymentMethod:"Card ending in 4242"},{id:2002,userId:2,userName:"John Smith",type:"subscription",amount:19.99,currency:"GBP",status:"pending",description:"Basic Plan - Monthly",createdAt:"2024-01-11",invoiceId:"INV-1046",paymentMethod:"Card ending in 1234"},{id:2003,userId:3,userName:"Alice Johnson",type:"one_time",amount:24.99,currency:"GBP",status:"completed",description:"Express Forwarding Fee",createdAt:"2024-01-10",paymentMethod:"Card ending in 5678"}]).map(t=>(0,i.jsxs)(tp,{children:[(0,i.jsxs)(tf,{children:["#",t.id]}),i.jsx(tf,{children:(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium",children:t.userName}),(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",t.userId]})]})}),i.jsx(tf,{children:i.jsx(e7,{className:N(t.type),variant:"secondary",children:t.type})}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"font-medium",children:[t.currency," ",t.amount.toFixed(2)]})}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[w(t.status),i.jsx(e7,{className:b(t.status),variant:"secondary",children:t.status})]})}),i.jsx(tf,{children:t.description}),i.jsx(tf,{className:"text-sm text-muted-foreground",children:t.paymentMethod}),i.jsx(tf,{className:"text-sm text-muted-foreground",children:t.createdAt}),i.jsx(tf,{children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[t.invoiceId&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>v(t.invoiceId),children:i.jsx(ii,{className:"h-4 w-4"})}),"pending"===t.status&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>y(t.id),disabled:e,children:i.jsx(eT,{className:"h-4 w-4"})}),"completed"===t.status&&i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>j(t.id),disabled:e,children:i.jsx(eF,{className:"h-4 w-4"})})]})})]},t.id))})]})})]}),(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"Revenue Trends"})}),i.jsx(ev,{className:"h-64 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Revenue trends chart would be displayed here"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Integration with charting library (Chart.js, Recharts, etc.)"})]})})]})]})}let io=eE("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function ic({}){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)("30d"),[a,n]=(0,l.useState)("overview"),{data:o,isLoading:c,refetch:d}=eW("/api/admin/analytics"),{data:u,isLoading:m}=eW("/api/admin/analytics/users"),{data:h,isLoading:p}=eW("/api/admin/analytics/revenue"),{data:x,isLoading:f}=eW("/api/admin/analytics/mail"),g=o||{userGrowth:{total:2847,growth:12.3,newUsers:156,activeUsers:2634},revenue:{total:47329,growth:8.1,monthly:47329,yearly:567948},mailVolume:{total:18492,growth:23.4,monthly:18492,processed:18234},planDistribution:{basic:45,premium:35,professional:20}},v=async()=>{t(!0);try{await eq("admin_analytics_refresh",{timeRange:s}),await d()}catch(e){await eq("admin_analytics_refresh_error",{error:e instanceof Error?e.message:String(e)})}finally{t(!1)}},y=async()=>{t(!0);try{await eq("admin_export_analytics",{timeRange:s,metric:a});let e=await eU.get(`/api/admin/analytics/export?timeRange=${s}&metric=${a}`),t=new Blob([JSON.stringify(e)],{type:"application/json"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=`analytics-${a}-${s}-${new Date().toISOString().split("T")[0]}.json`,n.click()}catch(e){await eq("admin_export_analytics_error",{error:e instanceof Error?e.message:String(e)})}finally{t(!1)}},j=async e=>{t(!0);try{await eq("admin_generate_report",{reportType:e,timeRange:s});let t=await eU.post("/api/admin/analytics/reports",{reportType:e,timeRange:s,format:"pdf"}),r=new Blob([t],{type:"application/pdf"}),a=window.URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=`${e}-report-${s}-${new Date().toISOString().split("T")[0]}.pdf`,n.click()}catch(t){await eq("admin_generate_report_error",{reportType:e,timeRange:s,error:t instanceof Error?t.message:String(t)})}finally{t(!1)}};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Analytics Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Detailed insights and performance metrics"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)(aN,{value:s,onValueChange:r,children:[i.jsx(nn,{className:"w-[120px]",children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"7d",children:"Last 7 days"}),i.jsx(nc,{value:"30d",children:"Last 30 days"}),i.jsx(nc,{value:"90d",children:"Last 90 days"}),i.jsx(nc,{value:"1y",children:"Last year"})]})]}),(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:y,disabled:e,children:[i.jsx(e5,{className:"h-4 w-4"}),"Export"]}),(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:v,disabled:e,children:[i.jsx(eF,{className:`h-4 w-4 ${e?"animate-spin":""}`}),"Refresh"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),i.jsx("p",{className:"text-2xl font-bold",children:g.userGrowth.total.toLocaleString()}),(0,i.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[i.jsx(io,{className:"h-3 w-3"}),"+",g.userGrowth.growth,"% growth"]})]}),i.jsx(eY,{className:"h-8 w-8 text-blue-500"})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),(0,i.jsxs)("p",{className:"text-2xl font-bold",children:["\xa3",g.revenue.monthly.toLocaleString()]}),(0,i.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[i.jsx(io,{className:"h-3 w-3"}),"+",g.revenue.growth,"% growth"]})]}),i.jsx(te,{className:"h-8 w-8 text-green-500"})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mail Processed"}),i.jsx("p",{className:"text-2xl font-bold",children:g.mailVolume.monthly.toLocaleString()}),(0,i.jsxs)("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[i.jsx(io,{className:"h-3 w-3"}),"+",g.mailVolume.growth,"% growth"]})]}),i.jsx(eJ,{className:"h-8 w-8 text-purple-500"})]})})}),i.jsx(ex,{children:i.jsx(ev,{className:"p-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),i.jsx("p",{className:"text-2xl font-bold",children:g.userGrowth.activeUsers.toLocaleString()}),(0,i.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(g.userGrowth.activeUsers/g.userGrowth.total*100).toFixed(1),"% of total"]})]}),i.jsx(ta,{className:"h-8 w-8 text-orange-500"})]})})})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,i.jsxs)(ex,{children:[(0,i.jsxs)(ef,{className:"flex flex-row items-center justify-between",children:[i.jsx(eg,{children:"User Growth"}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>j("user-growth"),disabled:e,children:i.jsx(e5,{className:"h-4 w-4"})})]}),i.jsx(ev,{className:"h-64 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(eK,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"User growth chart would be displayed here"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Shows new registrations, activations, and churn over time"})]})})]}),(0,i.jsxs)(ex,{children:[(0,i.jsxs)(ef,{className:"flex flex-row items-center justify-between",children:[i.jsx(eg,{children:"Revenue Trends"}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>j("revenue-trends"),disabled:e,children:i.jsx(e5,{className:"h-4 w-4"})})]}),i.jsx(ev,{className:"h-64 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(io,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Revenue trends chart would be displayed here"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Shows monthly recurring revenue, one-time payments, and refunds"})]})})]}),(0,i.jsxs)(ex,{children:[(0,i.jsxs)(ef,{className:"flex flex-row items-center justify-between",children:[i.jsx(eg,{children:"Mail Volume"}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>j("mail-volume"),disabled:e,children:i.jsx(e5,{className:"h-4 w-4"})})]}),i.jsx(ev,{className:"h-64 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(eJ,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Mail volume chart would be displayed here"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Shows incoming mail, processing times, and forwarding volumes"})]})})]}),(0,i.jsxs)(ex,{children:[(0,i.jsxs)(ef,{className:"flex flex-row items-center justify-between",children:[i.jsx(eg,{children:"Plan Distribution"}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>j("plan-distribution"),disabled:e,children:i.jsx(e5,{className:"h-4 w-4"})})]}),i.jsx(ev,{className:"h-64 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx(eQ,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Plan distribution chart would be displayed here"}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Shows breakdown of Basic (",g.planDistribution.basic,"%), Premium (",g.planDistribution.premium,"%), and Professional (",g.planDistribution.professional,"%) plans"]})]})})]})]}),(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"Detailed Metrics"})}),i.jsx(ev,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"User Metrics"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("span",{className:"text-muted-foreground",children:["New Users (",s,")"]}),i.jsx("span",{className:"font-medium",children:g.userGrowth.newUsers})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Active Users"}),i.jsx("span",{className:"font-medium",children:g.userGrowth.activeUsers})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Growth Rate"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["+",g.userGrowth.growth,"%"]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Revenue Metrics"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Monthly Revenue"}),(0,i.jsxs)("span",{className:"font-medium",children:["\xa3",g.revenue.monthly.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Yearly Revenue"}),(0,i.jsxs)("span",{className:"font-medium",children:["\xa3",g.revenue.yearly.toLocaleString()]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Growth Rate"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["+",g.revenue.growth,"%"]})]})]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Mail Metrics"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total Processed"}),i.jsx("span",{className:"font-medium",children:g.mailVolume.processed.toLocaleString()})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Monthly Volume"}),i.jsx("span",{className:"font-medium",children:g.mailVolume.monthly.toLocaleString()})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Growth Rate"}),(0,i.jsxs)("span",{className:"font-medium text-green-600",children:["+",g.mailVolume.growth,"%"]})]})]})]})]})})]})]})}var id="Switch",[iu,im]=ty(id),[ih,ip]=iu(id),ix=l.forwardRef((e,t)=>{let{__scopeSwitch:s,name:r,checked:a,defaultChecked:n,required:o,disabled:c,value:d="on",onCheckedChange:m,form:h,...p}=e,[x,f]=l.useState(null),g=u(t,e=>f(e)),v=l.useRef(!1),y=!x||h||!!x.closest("form"),[j,w]=rk({prop:a,defaultProp:n??!1,onChange:m,caller:id});return(0,i.jsxs)(ih,{scope:s,checked:j,disabled:c,children:[(0,i.jsx)(ew.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":ij(j),"data-disabled":c?"":void 0,disabled:c,value:d,...p,ref:g,onClick:tv(e.onClick,e=>{w(e=>!e),y&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),y&&(0,i.jsx)(iy,{control:x,bubbles:!v.current,name:r,value:d,checked:j,required:o,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});ix.displayName=id;var ig="SwitchThumb",iv=l.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,a=ip(ig,s);return(0,i.jsx)(ew.span,{"data-state":ij(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});iv.displayName=ig;var iy=l.forwardRef(({__scopeSwitch:e,control:t,checked:s,bubbles:r=!0,...a},n)=>{let o=l.useRef(null),c=u(o,n),d=rC(s),m=rr(t);return l.useEffect(()=>{let e=o.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==s&&t){let a=new Event("click",{bubbles:r});t.call(e,s),e.dispatchEvent(a)}},[d,s,r]),(0,i.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...a,tabIndex:-1,ref:c,style:{...a.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function ij(e){return e?"checked":"unchecked"}iy.displayName="SwitchBubbleInput";let iw=l.forwardRef(({className:e,...t},s)=>i.jsx(ix,{className:em("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:s,children:i.jsx(iv,{className:em("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));iw.displayName=ix.displayName;let ib=eE("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),iN=eE("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),ik=eE("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);function iC({}){let[e,t]=(0,l.useState)(!1),[s,r]=(0,l.useState)(!1),[a,n]=(0,l.useState)({general:{siteName:"VirtualAddressHub",siteUrl:"https://virtualaddresshub.com",adminEmail:"admin@virtualaddresshub.com",timezone:"Europe/London",maintenanceMode:!1},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,adminAlerts:!0,userAlerts:!0},integrations:{mailProvider:"royal_mail",paymentProvider:"stripe",kycProvider:"sumsub",analyticsProvider:"google_analytics",emailProvider:"postmark"},security:{twoFactorAuth:!0,sessionTimeout:30,passwordPolicy:"strong",ipWhitelist:[],auditLogging:!0}}),{data:o,isLoading:c,refetch:d}=eW("/api/admin/settings"),{data:u,isLoading:m}=eW("/api/admin/system/health"),h=async()=>{t(!0);try{await eq("admin_settings_refresh"),await d()}catch(e){await eq("admin_settings_refresh_error",{error:e.message})}finally{t(!1)}},p=async e=>{r(!0);try{await eq("admin_save_settings",{section:e,settings:a[e]}),await eU.post(`/api/admin/settings/${e}`,a[e]),await d()}catch(t){await eq("admin_save_settings_error",{section:e,error:t.message})}finally{r(!1)}},x=async e=>{t(!0);try{await eq("admin_test_integration",{integration:e}),await eU.post(`/api/admin/integrations/${e}/test`)}catch(t){await eq("admin_test_integration_error",{integration:e,error:t.message})}finally{t(!1)}},f=async()=>{t(!0);try{await eq("admin_backup_database");let e=await eU.post("/api/admin/database/backup"),t=new Blob([e.data],{type:"application/sql"}),s=window.URL.createObjectURL(t),r=document.createElement("a");r.href=s,r.download=`database-backup-${new Date().toISOString().split("T")[0]}.sql`,r.click()}catch(e){await eq("admin_backup_database_error",{error:e.message})}finally{t(!1)}},g=async()=>{t(!0);try{await eq("admin_clear_cache"),await eU.post("/api/admin/cache/clear")}catch(e){await eq("admin_clear_cache_error",{error:e.message})}finally{t(!1)}},v=(e,t,s)=>{n(r=>({...r,[e]:{...r[e],[t]:s}}))};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"System Settings"}),i.jsx("p",{className:"text-muted-foreground",children:"Configure system-wide settings and preferences"})]}),i.jsx("div",{className:"flex items-center gap-2",children:(0,i.jsxs)(ep,{variant:"outline",className:"gap-2",onClick:h,disabled:e,children:[i.jsx(eF,{className:`h-4 w-4 ${e?"animate-spin":""}`}),"Refresh"]})})]}),(0,i.jsxs)(nO,{defaultValue:"general",className:"space-y-4",children:[(0,i.jsxs)(nK,{children:[i.jsx(nY,{value:"general",children:"General"}),i.jsx(nY,{value:"notifications",children:"Notifications"}),i.jsx(nY,{value:"integrations",children:"Integrations"}),i.jsx(nY,{value:"security",children:"Security"}),i.jsx(nY,{value:"maintenance",children:"Maintenance"})]}),i.jsx(nJ,{value:"general",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"General Settings"})}),(0,i.jsxs)(ev,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"siteName",children:"Site Name"}),i.jsx(ey,{id:"siteName",value:a.general.siteName,onChange:e=>v("general","siteName",e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"siteUrl",children:"Site URL"}),i.jsx(ey,{id:"siteUrl",value:a.general.siteUrl,onChange:e=>v("general","siteUrl",e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"adminEmail",children:"Admin Email"}),i.jsx(ey,{id:"adminEmail",type:"email",value:a.general.adminEmail,onChange:e=>v("general","adminEmail",e.target.value)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"timezone",children:"Timezone"}),(0,i.jsxs)(aN,{value:a.general.timezone,onValueChange:e=>v("general","timezone",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"Europe/London",children:"Europe/London"}),i.jsx(nc,{value:"America/New_York",children:"America/New_York"}),i.jsx(nc,{value:"America/Los_Angeles",children:"America/Los_Angeles"}),i.jsx(nc,{value:"Asia/Tokyo",children:"Asia/Tokyo"})]})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[i.jsx(iw,{id:"maintenanceMode",checked:a.general.maintenanceMode,onCheckedChange:e=>v("general","maintenanceMode",e)}),i.jsx(ek,{htmlFor:"maintenanceMode",children:"Maintenance Mode"})]}),(0,i.jsxs)(ep,{onClick:()=>p("general"),disabled:s,children:[i.jsx(n1,{className:"h-4 w-4 mr-2"}),"Save General Settings"]})]})]})}),i.jsx(nJ,{value:"notifications",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"Notification Settings"})}),(0,i.jsxs)(ev,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[i.jsx(ek,{children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications to users"})]}),i.jsx(iw,{checked:a.notifications.emailNotifications,onCheckedChange:e=>v("notifications","emailNotifications",e)})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[i.jsx(ek,{children:"SMS Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send SMS notifications to users"})]}),i.jsx(iw,{checked:a.notifications.smsNotifications,onCheckedChange:e=>v("notifications","smsNotifications",e)})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[i.jsx(ek,{children:"Push Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send push notifications to users"})]}),i.jsx(iw,{checked:a.notifications.pushNotifications,onCheckedChange:e=>v("notifications","pushNotifications",e)})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[i.jsx(ek,{children:"Admin Alerts"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send alerts to admin users"})]}),i.jsx(iw,{checked:a.notifications.adminAlerts,onCheckedChange:e=>v("notifications","adminAlerts",e)})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[i.jsx(ek,{children:"User Alerts"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send alerts to regular users"})]}),i.jsx(iw,{checked:a.notifications.userAlerts,onCheckedChange:e=>v("notifications","userAlerts",e)})]})]}),(0,i.jsxs)(ep,{onClick:()=>p("notifications"),disabled:s,children:[i.jsx(n1,{className:"h-4 w-4 mr-2"}),"Save Notification Settings"]})]})]})}),i.jsx(nJ,{value:"integrations",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"Third-party Integrations"})}),(0,i.jsxs)(ev,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{children:"Mail Provider"}),(0,i.jsxs)(aN,{value:a.integrations.mailProvider,onValueChange:e=>v("integrations","mailProvider",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"royal_mail",children:"Royal Mail"}),i.jsx(nc,{value:"dpd",children:"DPD"}),i.jsx(nc,{value:"ups",children:"UPS"}),i.jsx(nc,{value:"fedex",children:"FedEx"})]})]}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>x("mail"),children:"Test Connection"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{children:"Payment Provider"}),(0,i.jsxs)(aN,{value:a.integrations.paymentProvider,onValueChange:e=>v("integrations","paymentProvider",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"stripe",children:"Stripe"}),i.jsx(nc,{value:"paypal",children:"PayPal"}),i.jsx(nc,{value:"gocardless",children:"GoCardless"})]})]}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>x("payment"),children:"Test Connection"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{children:"KYC Provider"}),(0,i.jsxs)(aN,{value:a.integrations.kycProvider,onValueChange:e=>v("integrations","kycProvider",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"sumsub",children:"Sumsub"}),i.jsx(nc,{value:"jumio",children:"Jumio"}),i.jsx(nc,{value:"onfido",children:"Onfido"})]})]}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>x("kyc"),children:"Test Connection"})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{children:"Email Provider"}),(0,i.jsxs)(aN,{value:a.integrations.emailProvider,onValueChange:e=>v("integrations","emailProvider",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"postmark",children:"Postmark"}),i.jsx(nc,{value:"sendgrid",children:"SendGrid"}),i.jsx(nc,{value:"mailgun",children:"Mailgun"})]})]}),i.jsx(ep,{size:"sm",variant:"outline",onClick:()=>x("email"),children:"Test Connection"})]})]}),(0,i.jsxs)(ep,{onClick:()=>p("integrations"),disabled:s,children:[i.jsx(n1,{className:"h-4 w-4 mr-2"}),"Save Integration Settings"]})]})]})}),i.jsx(nJ,{value:"security",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"Security Settings"})}),(0,i.jsxs)(ev,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[i.jsx(ek,{children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Require 2FA for admin users"})]}),i.jsx(iw,{checked:a.security.twoFactorAuth,onCheckedChange:e=>v("security","twoFactorAuth",e)})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{htmlFor:"sessionTimeout",children:"Session Timeout (minutes)"}),i.jsx(ey,{id:"sessionTimeout",type:"number",value:a.security.sessionTimeout,onChange:e=>v("security","sessionTimeout",parseInt(e.target.value))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[i.jsx(ek,{children:"Password Policy"}),(0,i.jsxs)(aN,{value:a.security.passwordPolicy,onValueChange:e=>v("security","passwordPolicy",e),children:[i.jsx(nn,{children:i.jsx(a_,{})}),(0,i.jsxs)(no,{children:[i.jsx(nc,{value:"basic",children:"Basic"}),i.jsx(nc,{value:"strong",children:"Strong"}),i.jsx(nc,{value:"very_strong",children:"Very Strong"})]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"space-y-0.5",children:[i.jsx(ek,{children:"Audit Logging"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Log all admin actions"})]}),i.jsx(iw,{checked:a.security.auditLogging,onCheckedChange:e=>v("security","auditLogging",e)})]})]}),(0,i.jsxs)(ep,{onClick:()=>p("security"),disabled:s,children:[i.jsx(n1,{className:"h-4 w-4 mr-2"}),"Save Security Settings"]})]})]})}),i.jsx(nJ,{value:"maintenance",className:"space-y-4",children:(0,i.jsxs)(ex,{children:[i.jsx(ef,{children:i.jsx(eg,{children:"System Maintenance"})}),(0,i.jsxs)(ev,{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Database Operations"}),(0,i.jsxs)(ep,{variant:"outline",className:"w-full gap-2",onClick:f,disabled:e,children:[i.jsx(ib,{className:"h-4 w-4"}),"Backup Database"]})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"Cache Operations"}),(0,i.jsxs)(ep,{variant:"outline",className:"w-full gap-2",onClick:g,disabled:e,children:[i.jsx(eF,{className:"h-4 w-4"}),"Clear Cache"]})]})]}),u&&(0,i.jsxs)("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-semibold",children:"System Health"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(iN,{className:"h-4 w-4 text-green-500"}),(0,i.jsxs)("span",{className:"text-sm",children:["Database: ",u.database?"Healthy":"Unhealthy"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(ik,{className:"h-4 w-4 text-green-500"}),(0,i.jsxs)("span",{className:"text-sm",children:["API Keys: ",u.apiKeys?"Valid":"Invalid"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(eY,{className:"h-4 w-4 text-green-500"}),(0,i.jsxs)("span",{className:"text-sm",children:["Users: ",u.users]})]})]})]})]})]})})]})]})}function iS({onLogout:e,onNavigate:t,onGoBack:s}){let[r,a]=(0,l.useState)("overview"),[n,o]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),[u,m]=(0,l.useState)(null),h=[{id:"overview",label:"Overview",icon:i.jsx(eK,{className:"h-4 w-4"})},{id:"users",label:"Users",icon:i.jsx(eY,{className:"h-4 w-4"})},{id:"mail",label:"Mail",icon:i.jsx(eJ,{className:"h-4 w-4"})},{id:"forwarding",label:"Forwarding",icon:i.jsx(eX,{className:"h-4 w-4"})},{id:"billing",label:"Billing",icon:i.jsx(eZ,{className:"h-4 w-4"})},{id:"analytics",label:"Analytics",icon:i.jsx(eQ,{className:"h-4 w-4"})},{id:"settings",label:"Settings",icon:i.jsx(e0,{className:"h-4 w-4"})}],p=async()=>{d(!0),m(null);try{await eq("admin_dashboard_refresh"),window.location.reload()}catch(e){m("Failed to refresh dashboard"),await eq("admin_dashboard_refresh_error",{error:e instanceof Error?e.message:String(e)})}finally{d(!1)}},x=async()=>{d(!0);try{await eq("admin_export_data",{section:r});let e=await eU.get(`/api/admin/export/${r}`),t=new Blob([e.data],{type:"application/json"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=`${r}-export-${new Date().toISOString().split("T")[0]}.json`,a.click()}catch(e){m("Failed to export data"),await eq("admin_export_error",{error:e instanceof Error?e.message:String(e)})}finally{d(!1)}};return(0,i.jsxs)("div",{className:"min-h-screen bg-background",children:[u&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 m-4 rounded-md",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(e1,{className:"h-4 w-4"}),i.jsx("span",{children:u}),i.jsx(ep,{variant:"ghost",size:"sm",onClick:()=>m(null),children:i.jsx(e2,{className:"h-4 w-4"})})]})}),(0,i.jsxs)("header",{className:"bg-card border-b border-border",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between h-14 px-4",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(e6,{size:"sm",showText:!1}),(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"font-semibold text-sm text-primary",children:"Admin Portal"}),i.jsx("p",{className:"text-xs text-muted-foreground hidden sm:block",children:"VirtualAddressHub"})]})]}),i.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:h.map(e=>(0,i.jsxs)(ep,{variant:r===e.id?"default":"ghost",size:"sm",onClick:()=>a(e.id),className:"gap-1.5 h-8 px-3",children:[e.icon,i.jsx("span",{className:"text-sm",children:e.label})]},e.id))}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(ep,{variant:"ghost",size:"sm",className:"lg:hidden h-8 w-8 p-0",onClick:()=>o(!n),children:n?i.jsx(e2,{className:"h-4 w-4"}):i.jsx(e4,{className:"h-4 w-4"})}),(0,i.jsxs)("div",{className:"hidden lg:flex items-center gap-1",children:[i.jsx(ep,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:p,disabled:c,children:i.jsx(eF,{className:`h-4 w-4 ${c?"animate-spin":""}`})}),i.jsx(ep,{variant:"ghost",size:"sm",className:"h-8 px-2",onClick:x,disabled:c,children:i.jsx(e5,{className:"h-4 w-4"})})]}),(0,i.jsxs)(ep,{variant:"ghost",size:"sm",onClick:e,className:"h-8 px-2 text-destructive hover:text-destructive hover:bg-destructive/10",children:[i.jsx(e3,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline ml-1",children:"Sign out"})]})]})]}),n&&i.jsx("div",{className:"lg:hidden border-t border-border p-3",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(e=>(0,i.jsxs)(ep,{variant:r===e.id?"default":"outline",size:"sm",onClick:()=>{a(e.id),o(!1)},className:"justify-start gap-2 h-8 text-xs",children:[e.icon,i.jsx("span",{className:"truncate",children:e.label})]},e.id))})})]}),i.jsx("main",{className:"p-4 lg:p-6",children:(()=>{switch(r){case"overview":default:return i.jsx(ti,{});case"users":return i.jsx(n5,{onNavigate:t});case"mail":return i.jsx(n7,{});case"forwarding":return i.jsx(is,{});case"billing":return i.jsx(il,{});case"analytics":return i.jsx(ic,{});case"settings":return i.jsx(iC,{})}})()})]})}let i_=(0,l.createContext)(void 0);function iA({children:e}){let[t,s]=(0,l.useState)(null),[r,a]=(0,l.useState)(!0),n=t?.is_admin||!1,o=async e=>{a(!0);try{await eH("user_login_attempt",{email:e.email});let t=await eU.post("/api/auth/login",e);if(t.ok)eV.setToken(t.token),eV.setUser(t.user),s(t.user),await eH("user_login_success",{email:e.email,userId:t.user.id});else throw Error("Login failed")}catch(t){throw await eH("user_login_failed",{email:e.email,error:t.message}),t}finally{a(!1)}},c=async e=>{a(!0);try{await eH("admin_login_attempt",{email:e.email});let t=await eU.post("/api/auth/login",{...e,isAdmin:!0});if(t.ok&&t.user?.is_admin)eV.setToken(t.token),eV.setUser(t.user),s(t.user),await eH("admin_login_success",{email:e.email,adminId:t.user.id}),await eq("admin_login",{email:e.email,adminId:t.user.id});else throw Error("Admin access required")}catch(t){throw await eH("admin_login_failed",{email:e.email,error:t.message}),t}finally{a(!1)}},d=async()=>{a(!0);try{t?.is_admin?await eq("admin_logout",{adminId:t.id}):await eH("user_logout",{userId:t?.id}),await eU.post("/api/auth/logout")}catch(e){console.error("Logout API call failed:",e)}finally{eV.clearAuth(),s(null),a(!1)}},u=async()=>{try{let e=await eV.checkAuth();s(e)}catch(e){console.error("Failed to refresh user data:",e),eV.clearAuth(),s(null)}};return i.jsx(i_.Provider,{value:{user:t,isAuthenticated:!!t,isAdmin:n,isLoading:r,login:o,adminLogin:c,logout:d,createDemoSession:e=>{let t="admin"===e?{id:"demo-admin",email:"admin@virtualaddresshub.co.uk",name:"Demo Admin",is_admin:!0,role:"super_admin",kyc_status:"approved",plan:"professional"}:{id:"demo-user",email:"demo@virtualaddresshub.co.uk",name:"Demo User",is_admin:!1,role:"user",kyc_status:"approved",plan:"premium"};eV.setUser(t),eV.setToken(`demo-${e}-token`),s(t),eH(`${e}_demo_session_created`,{email:t.email,userId:t.id})},refreshUser:u},children:e})}function iP(){let{isAuthenticated:e,isAdmin:t,logout:s}=function(){let e=(0,l.useContext)(i_);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}(),[r,a]=(0,l.useState)(!1),n=async()=>{await s(),a(!1)},o=()=>{window.location.href="/"};return r?i.jsx(iS,{onLogout:n,onNavigate:(e,t)=>{console.log("Navigate to:",e,t)},onGoBack:o}):i.jsx(eG,{onLogin:()=>{a(!0)},onGoBack:o})}function iE(){return i.jsx(iA,{children:i.jsx(iP,{})})}},8358:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/libanadan/Desktop/final_frontend/app/admin/login/page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var r=s(9510),a=s(5384),n=s.n(a);s(7272);let i={title:"VirtualAddressHub - Professional Virtual Address Service",description:"Get a professional virtual address for your business with mail forwarding, package handling, and premium business services."};function l({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:e})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,892],()=>s(1368));module.exports=r})();